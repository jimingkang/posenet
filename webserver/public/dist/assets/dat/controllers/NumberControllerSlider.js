function n(n){if(n===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n}function e(n,e){n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.__proto__=e}import t from"./NumberController";import o from"../dom/dom";function i(n,e,t,o,i){return o+(i-o)*((n-e)/(t-e))}var r=function(t){e(r,t);function r(e,r,u,d,a){var _;_=t.call(this,e,r,{min:u,max:d,step:a})||this;var c=n(_);_.__background=document.createElement("div");_.__foreground=document.createElement("div");o.bind(_.__background,"mousedown",l);o.bind(_.__background,"touchstart",m);o.addClass(_.__background,"slider");o.addClass(_.__foreground,"slider-fg");function l(n){document.activeElement.blur();o.bind(window,"mousemove",s);o.bind(window,"mouseup",h);s(n)}function s(n){n.preventDefault();var e=c.__background.getBoundingClientRect();c.setValue(i(n.clientX,e.left,e.right,c.__min,c.__max));return false}function h(){o.unbind(window,"mousemove",s);o.unbind(window,"mouseup",h);if(c.__onFinishChange){c.__onFinishChange.call(c,c.getValue())}}function m(n){if(n.touches.length!==1){return}o.bind(window,"touchmove",f);o.bind(window,"touchend",p);f(n)}function f(n){var e=n.touches[0].clientX;var t=c.__background.getBoundingClientRect();c.setValue(i(e,t.left,t.right,c.__min,c.__max))}function p(){o.unbind(window,"touchmove",f);o.unbind(window,"touchend",p);if(c.__onFinishChange){c.__onFinishChange.call(c,c.getValue())}}_.updateDisplay();_.__background.appendChild(_.__foreground);_.domElement.appendChild(_.__background);return _}var u=r.prototype;u.updateDisplay=function n(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);this.__foreground.style.width=e*100+"%";return t.prototype.updateDisplay.call(this)};return r}(t);export default r;