function t(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function n(t,n){t.prototype=Object.create(n.prototype);t.prototype.constructor=t;t.__proto__=n}import e from"./NumberController";import i from"../dom/dom";import o from"../utils/common";function u(t,n){var e=Math.pow(10,n);return Math.round(t*e)/e}var r=function(e){n(r,e);function r(n,u,r){var a;a=e.call(this,n,u,r)||this;a.__truncationSuspended=false;var p=t(a);var d;function s(){var t=parseFloat(p.__input.value);if(!o.isNaN(t)){p.setValue(t)}}function _(){if(p.__onFinishChange){p.__onFinishChange.call(p,p.getValue())}}function l(){_()}function c(t){var n=d-t.clientY;p.setValue(p.getValue()+n*p.__impliedStep);d=t.clientY}function f(){i.unbind(window,"mousemove",c);i.unbind(window,"mouseup",f);_()}function m(t){i.bind(window,"mousemove",c);i.bind(window,"mouseup",f);d=t.clientY}a.__input=document.createElement("input");a.__input.setAttribute("type","text");i.bind(a.__input,"change",s);i.bind(a.__input,"blur",l);i.bind(a.__input,"mousedown",m);i.bind(a.__input,"keydown",function(t){if(t.keyCode===13){p.__truncationSuspended=true;this.blur();p.__truncationSuspended=false;_()}});a.updateDisplay();a.domElement.appendChild(a.__input);return a}var a=r.prototype;a.updateDisplay=function t(){this.__input.value=this.__truncationSuspended?this.getValue():u(this.getValue(),this.__precision);return e.prototype.updateDisplay.call(this)};return r}(e);export default r;