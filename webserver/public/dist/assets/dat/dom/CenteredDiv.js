import t from"../dom/dom";import e from"../utils/common";var n=function(){function n(){this.backgroundElement=document.createElement("div");e.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"});t.makeFullscreen(this.backgroundElement);this.backgroundElement.style.position="fixed";this.domElement=document.createElement("div");e.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var n=this;t.bind(this.backgroundElement,"click",function(){n.hide()})}var i=n.prototype;i.show=function t(){var n=this;this.backgroundElement.style.display="block";this.domElement.style.display="block";this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)";this.layout();e.defer(function(){n.backgroundElement.style.opacity=1;n.domElement.style.opacity=1;n.domElement.style.webkitTransform="scale(1)"})};i.hide=function e(){var n=this;var e=function e(){n.domElement.style.display="none";n.backgroundElement.style.display="none";t.unbind(n.domElement,"webkitTransitionEnd",e);t.unbind(n.domElement,"transitionend",e);t.unbind(n.domElement,"oTransitionEnd",e)};t.bind(this.domElement,"webkitTransitionEnd",e);t.bind(this.domElement,"transitionend",e);t.bind(this.domElement,"oTransitionEnd",e);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)"};i.layout=function e(){this.domElement.style.left=window.innerWidth/2-t.getWidth(this.domElement)/2+"px";this.domElement.style.top=window.innerHeight/2-t.getHeight(this.domElement)/2+"px"};return n}();export default n;