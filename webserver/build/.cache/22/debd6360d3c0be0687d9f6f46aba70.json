{"id":"NO70","dependencies":[{"name":"C:\\Users\\jmmy\\Downloads\\webrtc-master\\webrtc\\13chapter\\webserver\\public\\.babelrc","includedInParent":true,"mtime":1593743347294},{"name":"C:\\Users\\jmmy\\Downloads\\webrtc-master\\webrtc\\13chapter\\webserver\\public\\package.json","includedInParent":true,"mtime":1593753006248},{"name":"@tensorflow-models/posenet","loc":{"line":3,"column":25},"parent":"C:\\Users\\jmmy\\Downloads\\webrtc-master\\webrtc\\13chapter\\webserver\\public\\main_bw.js","resolved":"C:\\Users\\jmmy\\Downloads\\webrtc-master\\webrtc\\13chapter\\webserver\\public\\node_modules\\@tensorflow-models\\posenet\\dist\\posenet.esm.js"},{"name":"./camera","loc":{"line":4,"column":44},"parent":"C:\\Users\\jmmy\\Downloads\\webrtc-master\\webrtc\\13chapter\\webserver\\public\\main_bw.js","resolved":"C:\\Users\\jmmy\\Downloads\\webrtc-master\\webrtc\\13chapter\\webserver\\public\\camera.js"}],"generated":{"js":"\"use strict\";var e=t(require(\"@tensorflow-models/posenet\")),n=require(\"./camera\");function o(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function t(e){if(e&&e.__esModule)return e;var n=o();if(n&&n.has(e))return n.get(e);var t={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var r=i?Object.getOwnPropertyDescriptor(e,c):null;r&&(r.get||r.set)?Object.defineProperty(t,c,r):t[c]=e[c]}}return t.default=e,n&&n.set(e,t),t}var i=document.querySelector(\"video#localvideo\");const c=.5,r=!1,a=16,s=i,l=.5,d=2,u=.5,f=16,g=500,v=1,m=32,p=250;async function h(){return await e.load({architecture:\"MobileNetV1\",outputStride:f,inputResolution:g,multiplier:u,quantBytes:d})}var y,b=document.querySelector(\"video#remotevideo\"),w=document.querySelector(\"button#connserver\"),j=document.querySelector(\"button#leave\"),S=document.querySelector(\"textarea#offer\"),P=document.querySelector(\"textarea#answer\"),D=document.querySelector(\"input#shareDesk\"),O=document.querySelector(\"select#bandwidth\"),k=null,M=null,R=null,q=null,C=null,T=\"init\",x={iceServers:[{urls:\"turn:stun.al.learningrtc.cn:3478\",credential:\"mypasswd\",username:\"garrylea\"}]};function I(e,n){console.log(\"send message to other end\",e,n),q||console.log(\"socket is null\"),q.emit(\"message\",e,n)}function _(){return(q=io.connect()).on(\"joined\",(e,n)=>{console.log(\"receive joined message!\",e,n),T=\"joined\",H(),J(),w.disabled=!0,j.disabled=!1,console.log(\"receive joined message, state=\",T)}),q.on(\"otherjoin\",e=>{console.log(\"receive joined message:\",e,T),\"joined_unbind\"===T&&(H(),J()),T=\"joined_conn\",K(),console.log(\"receive other_join message, state=\",T)}),q.on(\"full\",(e,n)=>{console.log(\"receive full message\",e,n),q.disconnect(),Q(),X(),T=\"leaved\",console.log(\"receive full message, state=\",T),alert(\"the room is full!\")}),q.on(\"leaved\",(e,n)=>{console.log(\"receive leaved message\",e,n),T=\"leaved\",q.disconnect(),console.log(\"receive leaved message, state=\",T),w.disabled=!1,j.disabled=!0}),q.on(\"bye\",(e,n)=>{console.log(\"receive bye message\",y,n),T=\"joined_unbind\",Q(),console.log(\"receive bye message, state=\",T)}),q.on(\"disconnect\",e=>{console.log(\"receive disconnect message!\",y),\"leaved\"!==T&&(Q(),X()),T=\"leaved\"}),q.on(\"message\",(e,n)=>{if(console.log(\"receive message!\",e,n),null!=n)if(n.hasOwnProperty(\"type\")&&\"offer\"===n.type)R.setRemoteDescription(new RTCSessionDescription(n)),R.createAnswer().then(z).catch(W);else if(n.hasOwnProperty(\"type\")&&\"answer\"===n.type)R.setRemoteDescription(new RTCSessionDescription(n)),O.disabled=!1;else if(n.hasOwnProperty(\"type\")&&\"candidate\"===n.type){var o=new RTCIceCandidate({sdpMLineIndex:n.label,candidate:n.candidate});R.addIceCandidate(o).then(()=>{console.log(\"Successed to add ice candidate\")}).catch(e=>{console.error(e)})}else console.log(\"the message is invalid!\",n);else console.error(\"the message is invalid!\")}),y=\"111111\",q.emit(\"join\",y),!0}function B(){return V(),!0}async function L(o){const t=await e.load({architecture:\"MobileNetV1\",outputStride:f,inputResolution:g,multiplier:u,quantBytes:d});k=o,i.srcObject=k,_(),(0,n.detectPoseInRealTime)(i,t)}function E(e){k=e}function F(e){console.error(\"Failed to get Media Stream!\",e)}function U(){return!!IsPC()&&(navigator.mediaDevices.getDisplayMedia({video:!0}).then(E).catch(F),!0)}function V(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(L).catch(F)}else console.error(\"the getUserMedia is not supported!\")}function A(e){M=e.streams[0],b.srcObject=e.streams[0]}function N(e){console.error(\"Failed to create offer:\",e)}function W(e){console.error(\"Failed to create answer:\",e)}function z(e){R.setLocalDescription(e),O.disabled=!1,I(y,e)}function G(e){R.setLocalDescription(e),I(y,C=e)}function H(){console.log(\"create RTCPeerConnection!\"),R?console.log(\"the pc have be created!\"):((R=new RTCPeerConnection(x)).onicecandidate=(e=>{e.candidate?I(y,{type:\"candidate\",label:event.candidate.sdpMLineIndex,id:event.candidate.sdpMid,candidate:event.candidate.candidate}):console.log(\"this is the end candidate\")}),R.ontrack=A)}function J(){console.log(\"bind tracks into RTCPeerConnection!\"),null!==R||void 0!==k?null!==k||void 0!==k?k.getTracks().forEach(e=>{R.addTrack(e,k)}):console.error(\"localstream is null or undefined!\"):console.error(\"pc is null or undefined!\")}function K(){if(\"joined_conn\"===T){R.createOffer({offerToRecieveAudio:1,offerToRecieveVideo:1}).then(G).catch(N)}}function Q(){R&&(C=null,R.close(),R=null)}function X(){null!=k&&k.getTracks().forEach(e=>{e.stop()}),k=null}function Y(){q.emit(\"leave\",y),Q(),X(),w.disabled=!1,j.disabled=!0,O.disabled=!0}function Z(){O.disabled=!0;var e=O.options[O.selectedIndex].value,n=null;R.getSenders().forEach(e=>{e&&\"video\"===e.track.kind&&(n=e)});var o=n.getParameters();o.encodings||(o.encodings=[{}]),\"unlimited\"===e?delete o.encodings[0].maxBitrate:o.encodings[0].maxBitrate=1e3*e,n.setParameters(o).then(()=>{O.disabled=!1}).catch(e=>{console.error(e)})}w.onclick=B,j.onclick=Y,O.onchange=Z;"},"sourceMaps":{"js":{"mappings":[{"source":"main_bw.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"main_bw.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"main_bw.js","original":{"line":3,"column":0},"generated":{"line":1,"column":17}},{"source":"main_bw.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"main_bw.js","original":{"line":3,"column":0},"generated":{"line":1,"column":21}},{"source":"main_bw.js","original":{"line":3,"column":0},"generated":{"line":1,"column":29}},{"source":"main_bw.js","original":{"line":4,"column":0},"generated":{"line":1,"column":60}},{"source":"main_bw.js","original":{"line":4,"column":0},"generated":{"line":1,"column":62}},{"source":"main_bw.js","original":{"line":4,"column":0},"generated":{"line":1,"column":70}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":82}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":91}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":95}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":98}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":117}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":125}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":132}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":137}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":141}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":143}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":147}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":155}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":162}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":164}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":175}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":182}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":185}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":187}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":196}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":198}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":201}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":204}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":207}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":209}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":220}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":227}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":229}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":233}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":235}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":239}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":242}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":245}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":247}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":251}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":254}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":261}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":263}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":267}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":270}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":274}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":276}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":279}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":282}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":288}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":290}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":291}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":295}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":297}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":304}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":320}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":327}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":352}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":356}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":360}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":365}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":367}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":370}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":377}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":387}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":402}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":407}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":409}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":412}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":413}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":417}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":419}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":421}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":428}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":453}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":455}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":458}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":463}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":467}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":469}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":474}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":476}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":481}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":488}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":503}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":505}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":507}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":510}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":512}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":515}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":517}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":521}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":528}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":530}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":538}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":540}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":543}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":545}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":549}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":551}},{"source":"main_bw.js","original":{"line":530,"column":0},"generated":{"line":1,"column":554}},{"source":"main_bw.js","original":{"line":6,"column":0},"generated":{"line":1,"column":556}},{"source":"main_bw.js","name":"localVideo","original":{"line":6,"column":4},"generated":{"line":1,"column":560}},{"source":"main_bw.js","name":"document","original":{"line":6,"column":17},"generated":{"line":1,"column":562}},{"source":"main_bw.js","name":"querySelector","original":{"line":6,"column":26},"generated":{"line":1,"column":571}},{"source":"main_bw.js","original":{"line":6,"column":40},"generated":{"line":1,"column":585}},{"source":"main_bw.js","original":{"line":10,"column":0},"generated":{"line":1,"column":605}},{"source":"main_bw.js","name":"imageScaleFactor","original":{"line":10,"column":6},"generated":{"line":1,"column":611}},{"source":"main_bw.js","original":{"line":10,"column":25},"generated":{"line":1,"column":613}},{"source":"main_bw.js","name":"flipHorizontal","original":{"line":11,"column":6},"generated":{"line":1,"column":616}},{"source":"main_bw.js","original":{"line":11,"column":23},"generated":{"line":1,"column":619}},{"source":"main_bw.js","name":"outputStride","original":{"line":12,"column":6},"generated":{"line":1,"column":621}},{"source":"main_bw.js","original":{"line":12,"column":21},"generated":{"line":1,"column":623}},{"source":"main_bw.js","name":"imageElement","original":{"line":13,"column":6},"generated":{"line":1,"column":626}},{"source":"main_bw.js","name":"localVideo","original":{"line":13,"column":21},"generated":{"line":1,"column":628}},{"source":"main_bw.js","name":"scaleFactor","original":{"line":14,"column":6},"generated":{"line":1,"column":630}},{"source":"main_bw.js","original":{"line":14,"column":18},"generated":{"line":1,"column":632}},{"source":"main_bw.js","name":"defaultQuantBytes","original":{"line":23,"column":6},"generated":{"line":1,"column":635}},{"source":"main_bw.js","original":{"line":23,"column":26},"generated":{"line":1,"column":637}},{"source":"main_bw.js","name":"defaultMobileNetMultiplier","original":{"line":25,"column":6},"generated":{"line":1,"column":639}},{"source":"main_bw.js","original":{"line":25,"column":36},"generated":{"line":1,"column":641}},{"source":"main_bw.js","name":"defaultMobileNetStride","original":{"line":26,"column":6},"generated":{"line":1,"column":644}},{"source":"main_bw.js","original":{"line":26,"column":31},"generated":{"line":1,"column":646}},{"source":"main_bw.js","name":"defaultMobileNetInputResolution","original":{"line":27,"column":6},"generated":{"line":1,"column":649}},{"source":"main_bw.js","original":{"line":27,"column":40},"generated":{"line":1,"column":651}},{"source":"main_bw.js","name":"defaultResNetMultiplier","original":{"line":29,"column":6},"generated":{"line":1,"column":655}},{"source":"main_bw.js","original":{"line":29,"column":32},"generated":{"line":1,"column":657}},{"source":"main_bw.js","name":"defaultResNetStride","original":{"line":30,"column":6},"generated":{"line":1,"column":659}},{"source":"main_bw.js","original":{"line":30,"column":28},"generated":{"line":1,"column":661}},{"source":"main_bw.js","name":"defaultResNetInputResolution","original":{"line":31,"column":6},"generated":{"line":1,"column":664}},{"source":"main_bw.js","original":{"line":31,"column":37},"generated":{"line":1,"column":666}},{"source":"main_bw.js","original":{"line":33,"column":0},"generated":{"line":1,"column":670}},{"source":"main_bw.js","name":"load","original":{"line":33,"column":15},"generated":{"line":1,"column":685}},{"source":"main_bw.js","name":"net","original":{"line":41,"column":9},"generated":{"line":1,"column":689}},{"source":"main_bw.js","name":"posenet","original":{"line":34,"column":18},"generated":{"line":1,"column":702}},{"source":"main_bw.js","name":"load","original":{"line":34,"column":26},"generated":{"line":1,"column":704}},{"source":"main_bw.js","original":{"line":34,"column":31},"generated":{"line":1,"column":709}},{"source":"main_bw.js","name":"architecture","original":{"line":35,"column":4},"generated":{"line":1,"column":710}},{"source":"main_bw.js","original":{"line":35,"column":18},"generated":{"line":1,"column":723}},{"source":"main_bw.js","name":"outputStride","original":{"line":36,"column":4},"generated":{"line":1,"column":737}},{"source":"main_bw.js","name":"defaultMobileNetStride","original":{"line":36,"column":18},"generated":{"line":1,"column":750}},{"source":"main_bw.js","name":"inputResolution","original":{"line":37,"column":4},"generated":{"line":1,"column":752}},{"source":"main_bw.js","name":"defaultMobileNetInputResolution","original":{"line":37,"column":21},"generated":{"line":1,"column":768}},{"source":"main_bw.js","name":"multiplier","original":{"line":38,"column":4},"generated":{"line":1,"column":770}},{"source":"main_bw.js","name":"defaultMobileNetMultiplier","original":{"line":38,"column":16},"generated":{"line":1,"column":781}},{"source":"main_bw.js","name":"quantBytes","original":{"line":39,"column":4},"generated":{"line":1,"column":783}},{"source":"main_bw.js","name":"defaultQuantBytes","original":{"line":39,"column":16},"generated":{"line":1,"column":794}},{"source":"main_bw.js","original":{"line":46,"column":0},"generated":{"line":1,"column":798}},{"source":"main_bw.js","name":"roomid","original":{"line":67,"column":4},"generated":{"line":1,"column":802}},{"source":"main_bw.js","name":"remoteVideo","original":{"line":46,"column":4},"generated":{"line":1,"column":804}},{"source":"main_bw.js","name":"document","original":{"line":46,"column":18},"generated":{"line":1,"column":806}},{"source":"main_bw.js","name":"querySelector","original":{"line":46,"column":27},"generated":{"line":1,"column":815}},{"source":"main_bw.js","original":{"line":46,"column":41},"generated":{"line":1,"column":829}},{"source":"main_bw.js","name":"btnConn","original":{"line":52,"column":4},"generated":{"line":1,"column":850}},{"source":"main_bw.js","name":"document","original":{"line":52,"column":15},"generated":{"line":1,"column":852}},{"source":"main_bw.js","name":"querySelector","original":{"line":52,"column":24},"generated":{"line":1,"column":861}},{"source":"main_bw.js","original":{"line":52,"column":38},"generated":{"line":1,"column":875}},{"source":"main_bw.js","name":"btnLeave","original":{"line":53,"column":4},"generated":{"line":1,"column":896}},{"source":"main_bw.js","name":"document","original":{"line":53,"column":15},"generated":{"line":1,"column":898}},{"source":"main_bw.js","name":"querySelector","original":{"line":53,"column":24},"generated":{"line":1,"column":907}},{"source":"main_bw.js","original":{"line":53,"column":38},"generated":{"line":1,"column":921}},{"source":"main_bw.js","name":"offer","original":{"line":55,"column":4},"generated":{"line":1,"column":937}},{"source":"main_bw.js","name":"document","original":{"line":55,"column":12},"generated":{"line":1,"column":939}},{"source":"main_bw.js","name":"querySelector","original":{"line":55,"column":21},"generated":{"line":1,"column":948}},{"source":"main_bw.js","original":{"line":55,"column":35},"generated":{"line":1,"column":962}},{"source":"main_bw.js","name":"answer","original":{"line":56,"column":4},"generated":{"line":1,"column":980}},{"source":"main_bw.js","name":"document","original":{"line":56,"column":13},"generated":{"line":1,"column":982}},{"source":"main_bw.js","name":"querySelector","original":{"line":56,"column":22},"generated":{"line":1,"column":991}},{"source":"main_bw.js","original":{"line":56,"column":36},"generated":{"line":1,"column":1005}},{"source":"main_bw.js","name":"shareDeskBox","original":{"line":58,"column":4},"generated":{"line":1,"column":1024}},{"source":"main_bw.js","name":"document","original":{"line":58,"column":20},"generated":{"line":1,"column":1026}},{"source":"main_bw.js","name":"querySelector","original":{"line":58,"column":29},"generated":{"line":1,"column":1035}},{"source":"main_bw.js","original":{"line":58,"column":43},"generated":{"line":1,"column":1049}},{"source":"main_bw.js","name":"bandwidth","original":{"line":60,"column":4},"generated":{"line":1,"column":1068}},{"source":"main_bw.js","name":"document","original":{"line":60,"column":16},"generated":{"line":1,"column":1070}},{"source":"main_bw.js","name":"querySelector","original":{"line":60,"column":25},"generated":{"line":1,"column":1079}},{"source":"main_bw.js","original":{"line":60,"column":39},"generated":{"line":1,"column":1093}},{"source":"main_bw.js","name":"localStream","original":{"line":62,"column":4},"generated":{"line":1,"column":1113}},{"source":"main_bw.js","original":{"line":62,"column":18},"generated":{"line":1,"column":1115}},{"source":"main_bw.js","name":"remoteStream","original":{"line":63,"column":4},"generated":{"line":1,"column":1120}},{"source":"main_bw.js","original":{"line":63,"column":19},"generated":{"line":1,"column":1122}},{"source":"main_bw.js","name":"pc","original":{"line":65,"column":4},"generated":{"line":1,"column":1127}},{"source":"main_bw.js","original":{"line":65,"column":9},"generated":{"line":1,"column":1129}},{"source":"main_bw.js","name":"socket","original":{"line":68,"column":4},"generated":{"line":1,"column":1134}},{"source":"main_bw.js","original":{"line":68,"column":13},"generated":{"line":1,"column":1136}},{"source":"main_bw.js","name":"offerdesc","original":{"line":70,"column":4},"generated":{"line":1,"column":1141}},{"source":"main_bw.js","original":{"line":70,"column":16},"generated":{"line":1,"column":1143}},{"source":"main_bw.js","name":"state","original":{"line":71,"column":4},"generated":{"line":1,"column":1148}},{"source":"main_bw.js","original":{"line":71,"column":12},"generated":{"line":1,"column":1150}},{"source":"main_bw.js","name":"pcConfig","original":{"line":76,"column":4},"generated":{"line":1,"column":1157}},{"source":"main_bw.js","original":{"line":76,"column":15},"generated":{"line":1,"column":1159}},{"source":"main_bw.js","original":{"line":77,"column":16},"generated":{"line":1,"column":1160}},{"source":"main_bw.js","original":{"line":77,"column":16},"generated":{"line":1,"column":1171}},{"source":"main_bw.js","original":{"line":77,"column":17},"generated":{"line":1,"column":1172}},{"source":"main_bw.js","original":{"line":81,"column":11},"generated":{"line":1,"column":1173}},{"source":"main_bw.js","original":{"line":81,"column":11},"generated":{"line":1,"column":1178}},{"source":"main_bw.js","original":{"line":82,"column":18},"generated":{"line":1,"column":1213}},{"source":"main_bw.js","original":{"line":82,"column":18},"generated":{"line":1,"column":1224}},{"source":"main_bw.js","original":{"line":83,"column":16},"generated":{"line":1,"column":1235}},{"source":"main_bw.js","original":{"line":83,"column":16},"generated":{"line":1,"column":1244}},{"source":"main_bw.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1258}},{"source":"main_bw.js","name":"sendMessage","original":{"line":89,"column":9},"generated":{"line":1,"column":1267}},{"source":"main_bw.js","name":"roomid","original":{"line":89,"column":21},"generated":{"line":1,"column":1269}},{"source":"main_bw.js","name":"data","original":{"line":89,"column":29},"generated":{"line":1,"column":1271}},{"source":"main_bw.js","name":"console","original":{"line":91,"column":1},"generated":{"line":1,"column":1274}},{"source":"main_bw.js","name":"log","original":{"line":91,"column":9},"generated":{"line":1,"column":1282}},{"source":"main_bw.js","original":{"line":91,"column":13},"generated":{"line":1,"column":1286}},{"source":"main_bw.js","name":"roomid","original":{"line":91,"column":42},"generated":{"line":1,"column":1314}},{"source":"main_bw.js","name":"data","original":{"line":91,"column":50},"generated":{"line":1,"column":1316}},{"source":"main_bw.js","name":"socket","original":{"line":92,"column":5},"generated":{"line":1,"column":1319}},{"source":"main_bw.js","name":"console","original":{"line":93,"column":2},"generated":{"line":1,"column":1322}},{"source":"main_bw.js","name":"log","original":{"line":93,"column":10},"generated":{"line":1,"column":1330}},{"source":"main_bw.js","original":{"line":93,"column":14},"generated":{"line":1,"column":1334}},{"source":"main_bw.js","name":"socket","original":{"line":95,"column":1},"generated":{"line":1,"column":1352}},{"source":"main_bw.js","name":"emit","original":{"line":95,"column":8},"generated":{"line":1,"column":1354}},{"source":"main_bw.js","original":{"line":95,"column":13},"generated":{"line":1,"column":1359}},{"source":"main_bw.js","name":"roomid","original":{"line":95,"column":24},"generated":{"line":1,"column":1369}},{"source":"main_bw.js","name":"data","original":{"line":95,"column":32},"generated":{"line":1,"column":1371}},{"source":"main_bw.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1374}},{"source":"main_bw.js","name":"conn","original":{"line":98,"column":9},"generated":{"line":1,"column":1383}},{"source":"main_bw.js","original":{"line":223,"column":8},"generated":{"line":1,"column":1387}},{"source":"main_bw.js","name":"socket","original":{"line":100,"column":1},"generated":{"line":1,"column":1394}},{"source":"main_bw.js","name":"io","original":{"line":100,"column":10},"generated":{"line":1,"column":1396}},{"source":"main_bw.js","name":"connect","original":{"line":100,"column":13},"generated":{"line":1,"column":1399}},{"source":"main_bw.js","name":"on","original":{"line":102,"column":8},"generated":{"line":1,"column":1410}},{"source":"main_bw.js","original":{"line":102,"column":11},"generated":{"line":1,"column":1413}},{"source":"main_bw.js","original":{"line":102,"column":21},"generated":{"line":1,"column":1422}},{"source":"main_bw.js","name":"roomid","original":{"line":102,"column":22},"generated":{"line":1,"column":1423}},{"source":"main_bw.js","name":"id","original":{"line":102,"column":30},"generated":{"line":1,"column":1425}},{"source":"main_bw.js","name":"console","original":{"line":103,"column":2},"generated":{"line":1,"column":1430}},{"source":"main_bw.js","name":"log","original":{"line":103,"column":10},"generated":{"line":1,"column":1438}},{"source":"main_bw.js","original":{"line":103,"column":14},"generated":{"line":1,"column":1442}},{"source":"main_bw.js","name":"roomid","original":{"line":103,"column":41},"generated":{"line":1,"column":1468}},{"source":"main_bw.js","name":"id","original":{"line":103,"column":49},"generated":{"line":1,"column":1470}},{"source":"main_bw.js","name":"state","original":{"line":104,"column":2},"generated":{"line":1,"column":1473}},{"source":"main_bw.js","original":{"line":104,"column":10},"generated":{"line":1,"column":1475}},{"source":"main_bw.js","name":"createPeerConnection","original":{"line":111,"column":2},"generated":{"line":1,"column":1484}},{"source":"main_bw.js","name":"bindTracks","original":{"line":112,"column":2},"generated":{"line":1,"column":1488}},{"source":"main_bw.js","name":"btnConn","original":{"line":114,"column":2},"generated":{"line":1,"column":1492}},{"source":"main_bw.js","name":"disabled","original":{"line":114,"column":10},"generated":{"line":1,"column":1494}},{"source":"main_bw.js","original":{"line":114,"column":21},"generated":{"line":1,"column":1504}},{"source":"main_bw.js","name":"btnLeave","original":{"line":115,"column":2},"generated":{"line":1,"column":1506}},{"source":"main_bw.js","name":"disabled","original":{"line":115,"column":11},"generated":{"line":1,"column":1508}},{"source":"main_bw.js","original":{"line":115,"column":22},"generated":{"line":1,"column":1518}},{"source":"main_bw.js","name":"console","original":{"line":116,"column":2},"generated":{"line":1,"column":1520}},{"source":"main_bw.js","name":"log","original":{"line":116,"column":10},"generated":{"line":1,"column":1528}},{"source":"main_bw.js","original":{"line":116,"column":14},"generated":{"line":1,"column":1532}},{"source":"main_bw.js","name":"state","original":{"line":116,"column":48},"generated":{"line":1,"column":1565}},{"source":"main_bw.js","name":"socket","original":{"line":119,"column":1},"generated":{"line":1,"column":1570}},{"source":"main_bw.js","name":"on","original":{"line":119,"column":8},"generated":{"line":1,"column":1572}},{"source":"main_bw.js","original":{"line":119,"column":11},"generated":{"line":1,"column":1575}},{"source":"main_bw.js","name":"roomid","original":{"line":119,"column":25},"generated":{"line":1,"column":1587}},{"source":"main_bw.js","name":"console","original":{"line":120,"column":2},"generated":{"line":1,"column":1591}},{"source":"main_bw.js","name":"log","original":{"line":120,"column":10},"generated":{"line":1,"column":1599}},{"source":"main_bw.js","original":{"line":120,"column":14},"generated":{"line":1,"column":1603}},{"source":"main_bw.js","name":"roomid","original":{"line":120,"column":41},"generated":{"line":1,"column":1629}},{"source":"main_bw.js","name":"state","original":{"line":120,"column":49},"generated":{"line":1,"column":1631}},{"source":"main_bw.js","original":{"line":124,"column":15},"generated":{"line":1,"column":1634}},{"source":"main_bw.js","name":"state","original":{"line":124,"column":5},"generated":{"line":1,"column":1652}},{"source":"main_bw.js","name":"createPeerConnection","original":{"line":125,"column":3},"generated":{"line":1,"column":1656}},{"source":"main_bw.js","name":"bindTracks","original":{"line":126,"column":3},"generated":{"line":1,"column":1660}},{"source":"main_bw.js","name":"state","original":{"line":129,"column":2},"generated":{"line":1,"column":1665}},{"source":"main_bw.js","original":{"line":129,"column":10},"generated":{"line":1,"column":1667}},{"source":"main_bw.js","name":"call","original":{"line":130,"column":2},"generated":{"line":1,"column":1681}},{"source":"main_bw.js","name":"console","original":{"line":132,"column":2},"generated":{"line":1,"column":1685}},{"source":"main_bw.js","name":"log","original":{"line":132,"column":10},"generated":{"line":1,"column":1693}},{"source":"main_bw.js","original":{"line":132,"column":14},"generated":{"line":1,"column":1697}},{"source":"main_bw.js","name":"state","original":{"line":132,"column":52},"generated":{"line":1,"column":1734}},{"source":"main_bw.js","name":"socket","original":{"line":135,"column":1},"generated":{"line":1,"column":1739}},{"source":"main_bw.js","name":"on","original":{"line":135,"column":8},"generated":{"line":1,"column":1741}},{"source":"main_bw.js","original":{"line":135,"column":11},"generated":{"line":1,"column":1744}},{"source":"main_bw.js","original":{"line":135,"column":19},"generated":{"line":1,"column":1751}},{"source":"main_bw.js","name":"roomid","original":{"line":135,"column":20},"generated":{"line":1,"column":1752}},{"source":"main_bw.js","name":"id","original":{"line":135,"column":28},"generated":{"line":1,"column":1754}},{"source":"main_bw.js","name":"console","original":{"line":136,"column":2},"generated":{"line":1,"column":1759}},{"source":"main_bw.js","name":"log","original":{"line":136,"column":10},"generated":{"line":1,"column":1767}},{"source":"main_bw.js","original":{"line":136,"column":14},"generated":{"line":1,"column":1771}},{"source":"main_bw.js","name":"roomid","original":{"line":136,"column":38},"generated":{"line":1,"column":1794}},{"source":"main_bw.js","name":"id","original":{"line":136,"column":46},"generated":{"line":1,"column":1796}},{"source":"main_bw.js","name":"socket","original":{"line":137,"column":2},"generated":{"line":1,"column":1799}},{"source":"main_bw.js","name":"disconnect","original":{"line":137,"column":9},"generated":{"line":1,"column":1801}},{"source":"main_bw.js","name":"hangup","original":{"line":138,"column":2},"generated":{"line":1,"column":1814}},{"source":"main_bw.js","name":"closeLocalMedia","original":{"line":139,"column":2},"generated":{"line":1,"column":1818}},{"source":"main_bw.js","name":"state","original":{"line":140,"column":2},"generated":{"line":1,"column":1822}},{"source":"main_bw.js","original":{"line":140,"column":10},"generated":{"line":1,"column":1824}},{"source":"main_bw.js","name":"console","original":{"line":141,"column":2},"generated":{"line":1,"column":1833}},{"source":"main_bw.js","name":"log","original":{"line":141,"column":10},"generated":{"line":1,"column":1841}},{"source":"main_bw.js","original":{"line":141,"column":14},"generated":{"line":1,"column":1845}},{"source":"main_bw.js","name":"state","original":{"line":141,"column":46},"generated":{"line":1,"column":1876}},{"source":"main_bw.js","name":"alert","original":{"line":142,"column":2},"generated":{"line":1,"column":1879}},{"source":"main_bw.js","original":{"line":142,"column":8},"generated":{"line":1,"column":1885}},{"source":"main_bw.js","name":"socket","original":{"line":145,"column":1},"generated":{"line":1,"column":1908}},{"source":"main_bw.js","name":"on","original":{"line":145,"column":8},"generated":{"line":1,"column":1910}},{"source":"main_bw.js","original":{"line":145,"column":11},"generated":{"line":1,"column":1913}},{"source":"main_bw.js","original":{"line":145,"column":21},"generated":{"line":1,"column":1922}},{"source":"main_bw.js","name":"roomid","original":{"line":145,"column":22},"generated":{"line":1,"column":1923}},{"source":"main_bw.js","name":"id","original":{"line":145,"column":30},"generated":{"line":1,"column":1925}},{"source":"main_bw.js","name":"console","original":{"line":146,"column":2},"generated":{"line":1,"column":1930}},{"source":"main_bw.js","name":"log","original":{"line":146,"column":10},"generated":{"line":1,"column":1938}},{"source":"main_bw.js","original":{"line":146,"column":14},"generated":{"line":1,"column":1942}},{"source":"main_bw.js","name":"roomid","original":{"line":146,"column":40},"generated":{"line":1,"column":1967}},{"source":"main_bw.js","name":"id","original":{"line":146,"column":48},"generated":{"line":1,"column":1969}},{"source":"main_bw.js","name":"state","original":{"line":147,"column":2},"generated":{"line":1,"column":1972}},{"source":"main_bw.js","original":{"line":147,"column":8},"generated":{"line":1,"column":1974}},{"source":"main_bw.js","name":"socket","original":{"line":148,"column":2},"generated":{"line":1,"column":1983}},{"source":"main_bw.js","name":"disconnect","original":{"line":148,"column":9},"generated":{"line":1,"column":1985}},{"source":"main_bw.js","name":"console","original":{"line":149,"column":2},"generated":{"line":1,"column":1998}},{"source":"main_bw.js","name":"log","original":{"line":149,"column":10},"generated":{"line":1,"column":2006}},{"source":"main_bw.js","original":{"line":149,"column":14},"generated":{"line":1,"column":2010}},{"source":"main_bw.js","name":"state","original":{"line":149,"column":48},"generated":{"line":1,"column":2043}},{"source":"main_bw.js","name":"btnConn","original":{"line":151,"column":2},"generated":{"line":1,"column":2046}},{"source":"main_bw.js","name":"disabled","original":{"line":151,"column":10},"generated":{"line":1,"column":2048}},{"source":"main_bw.js","original":{"line":151,"column":21},"generated":{"line":1,"column":2058}},{"source":"main_bw.js","name":"btnLeave","original":{"line":152,"column":2},"generated":{"line":1,"column":2060}},{"source":"main_bw.js","name":"disabled","original":{"line":152,"column":11},"generated":{"line":1,"column":2062}},{"source":"main_bw.js","original":{"line":152,"column":22},"generated":{"line":1,"column":2072}},{"source":"main_bw.js","name":"socket","original":{"line":155,"column":1},"generated":{"line":1,"column":2076}},{"source":"main_bw.js","name":"on","original":{"line":155,"column":8},"generated":{"line":1,"column":2078}},{"source":"main_bw.js","original":{"line":155,"column":11},"generated":{"line":1,"column":2081}},{"source":"main_bw.js","original":{"line":155,"column":18},"generated":{"line":1,"column":2087}},{"source":"main_bw.js","name":"room","original":{"line":155,"column":19},"generated":{"line":1,"column":2088}},{"source":"main_bw.js","name":"id","original":{"line":155,"column":25},"generated":{"line":1,"column":2090}},{"source":"main_bw.js","name":"console","original":{"line":156,"column":2},"generated":{"line":1,"column":2095}},{"source":"main_bw.js","name":"log","original":{"line":156,"column":10},"generated":{"line":1,"column":2103}},{"source":"main_bw.js","original":{"line":156,"column":14},"generated":{"line":1,"column":2107}},{"source":"main_bw.js","name":"roomid","original":{"line":156,"column":37},"generated":{"line":1,"column":2129}},{"source":"main_bw.js","name":"id","original":{"line":156,"column":45},"generated":{"line":1,"column":2131}},{"source":"main_bw.js","name":"state","original":{"line":163,"column":2},"generated":{"line":1,"column":2134}},{"source":"main_bw.js","original":{"line":163,"column":10},"generated":{"line":1,"column":2136}},{"source":"main_bw.js","name":"hangup","original":{"line":164,"column":2},"generated":{"line":1,"column":2152}},{"source":"main_bw.js","name":"console","original":{"line":165,"column":2},"generated":{"line":1,"column":2156}},{"source":"main_bw.js","name":"log","original":{"line":165,"column":10},"generated":{"line":1,"column":2164}},{"source":"main_bw.js","original":{"line":165,"column":14},"generated":{"line":1,"column":2168}},{"source":"main_bw.js","name":"state","original":{"line":165,"column":45},"generated":{"line":1,"column":2198}},{"source":"main_bw.js","name":"socket","original":{"line":168,"column":1},"generated":{"line":1,"column":2203}},{"source":"main_bw.js","name":"on","original":{"line":168,"column":8},"generated":{"line":1,"column":2205}},{"source":"main_bw.js","original":{"line":168,"column":11},"generated":{"line":1,"column":2208}},{"source":"main_bw.js","name":"socket","original":{"line":168,"column":26},"generated":{"line":1,"column":2221}},{"source":"main_bw.js","name":"console","original":{"line":169,"column":2},"generated":{"line":1,"column":2225}},{"source":"main_bw.js","name":"log","original":{"line":169,"column":10},"generated":{"line":1,"column":2233}},{"source":"main_bw.js","original":{"line":169,"column":14},"generated":{"line":1,"column":2237}},{"source":"main_bw.js","name":"roomid","original":{"line":169,"column":45},"generated":{"line":1,"column":2267}},{"source":"main_bw.js","original":{"line":170,"column":17},"generated":{"line":1,"column":2270}},{"source":"main_bw.js","name":"state","original":{"line":170,"column":7},"generated":{"line":1,"column":2281}},{"source":"main_bw.js","name":"hangup","original":{"line":171,"column":3},"generated":{"line":1,"column":2285}},{"source":"main_bw.js","name":"closeLocalMedia","original":{"line":172,"column":3},"generated":{"line":1,"column":2289}},{"source":"main_bw.js","name":"state","original":{"line":175,"column":2},"generated":{"line":1,"column":2294}},{"source":"main_bw.js","original":{"line":175,"column":10},"generated":{"line":1,"column":2296}},{"source":"main_bw.js","name":"socket","original":{"line":179,"column":1},"generated":{"line":1,"column":2307}},{"source":"main_bw.js","name":"on","original":{"line":179,"column":8},"generated":{"line":1,"column":2309}},{"source":"main_bw.js","original":{"line":179,"column":11},"generated":{"line":1,"column":2312}},{"source":"main_bw.js","original":{"line":179,"column":22},"generated":{"line":1,"column":2322}},{"source":"main_bw.js","name":"roomid","original":{"line":179,"column":23},"generated":{"line":1,"column":2323}},{"source":"main_bw.js","name":"data","original":{"line":179,"column":31},"generated":{"line":1,"column":2325}},{"source":"main_bw.js","name":"data","original":{"line":182,"column":5},"generated":{"line":1,"column":2330}},{"source":"main_bw.js","name":"console","original":{"line":180,"column":2},"generated":{"line":1,"column":2333}},{"source":"main_bw.js","name":"log","original":{"line":180,"column":10},"generated":{"line":1,"column":2341}},{"source":"main_bw.js","original":{"line":180,"column":14},"generated":{"line":1,"column":2345}},{"source":"main_bw.js","name":"roomid","original":{"line":180,"column":34},"generated":{"line":1,"column":2364}},{"source":"main_bw.js","name":"data","original":{"line":180,"column":42},"generated":{"line":1,"column":2366}},{"source":"main_bw.js","name":"data","original":{"line":182,"column":5},"generated":{"line":1,"column":2369}},{"source":"main_bw.js","name":"data","original":{"line":182,"column":5},"generated":{"line":1,"column":2375}},{"source":"main_bw.js","name":"data","original":{"line":187,"column":5},"generated":{"line":1,"column":2377}},{"source":"main_bw.js","name":"data","original":{"line":187,"column":5},"generated":{"line":1,"column":2380}},{"source":"main_bw.js","name":"hasOwnProperty","original":{"line":187,"column":10},"generated":{"line":1,"column":2382}},{"source":"main_bw.js","original":{"line":187,"column":25},"generated":{"line":1,"column":2397}},{"source":"main_bw.js","original":{"line":187,"column":50},"generated":{"line":1,"column":2406}},{"source":"main_bw.js","name":"data","original":{"line":187,"column":36},"generated":{"line":1,"column":2416}},{"source":"main_bw.js","name":"type","original":{"line":187,"column":41},"generated":{"line":1,"column":2418}},{"source":"main_bw.js","name":"pc","original":{"line":189,"column":3},"generated":{"line":1,"column":2423}},{"source":"main_bw.js","name":"setRemoteDescription","original":{"line":189,"column":6},"generated":{"line":1,"column":2425}},{"source":"main_bw.js","original":{"line":189,"column":27},"generated":{"line":1,"column":2446}},{"source":"main_bw.js","name":"RTCSessionDescription","original":{"line":189,"column":31},"generated":{"line":1,"column":2450}},{"source":"main_bw.js","name":"data","original":{"line":189,"column":53},"generated":{"line":1,"column":2472}},{"source":"main_bw.js","name":"pc","original":{"line":191,"column":3},"generated":{"line":1,"column":2476}},{"source":"main_bw.js","name":"createAnswer","original":{"line":191,"column":6},"generated":{"line":1,"column":2478}},{"source":"main_bw.js","name":"then","original":{"line":192,"column":5},"generated":{"line":1,"column":2493}},{"source":"main_bw.js","name":"getAnswer","original":{"line":192,"column":10},"generated":{"line":1,"column":2498}},{"source":"main_bw.js","name":"catch","original":{"line":193,"column":5},"generated":{"line":1,"column":2501}},{"source":"main_bw.js","name":"handleAnswerError","original":{"line":193,"column":11},"generated":{"line":1,"column":2507}},{"source":"main_bw.js","original":{"line":195,"column":8},"generated":{"line":1,"column":2515}},{"source":"main_bw.js","name":"data","original":{"line":195,"column":11},"generated":{"line":1,"column":2518}},{"source":"main_bw.js","name":"hasOwnProperty","original":{"line":195,"column":16},"generated":{"line":1,"column":2520}},{"source":"main_bw.js","original":{"line":195,"column":31},"generated":{"line":1,"column":2535}},{"source":"main_bw.js","original":{"line":195,"column":56},"generated":{"line":1,"column":2544}},{"source":"main_bw.js","name":"data","original":{"line":195,"column":42},"generated":{"line":1,"column":2555}},{"source":"main_bw.js","name":"type","original":{"line":195,"column":47},"generated":{"line":1,"column":2557}},{"source":"main_bw.js","name":"pc","original":{"line":196,"column":3},"generated":{"line":1,"column":2562}},{"source":"main_bw.js","name":"setRemoteDescription","original":{"line":196,"column":6},"generated":{"line":1,"column":2564}},{"source":"main_bw.js","original":{"line":196,"column":27},"generated":{"line":1,"column":2585}},{"source":"main_bw.js","name":"RTCSessionDescription","original":{"line":196,"column":31},"generated":{"line":1,"column":2589}},{"source":"main_bw.js","name":"data","original":{"line":196,"column":53},"generated":{"line":1,"column":2611}},{"source":"main_bw.js","name":"bandwidth","original":{"line":197,"column":3},"generated":{"line":1,"column":2615}},{"source":"main_bw.js","name":"disabled","original":{"line":197,"column":13},"generated":{"line":1,"column":2617}},{"source":"main_bw.js","original":{"line":197,"column":24},"generated":{"line":1,"column":2627}},{"source":"main_bw.js","original":{"line":199,"column":8},"generated":{"line":1,"column":2634}},{"source":"main_bw.js","name":"data","original":{"line":199,"column":12},"generated":{"line":1,"column":2637}},{"source":"main_bw.js","name":"hasOwnProperty","original":{"line":199,"column":17},"generated":{"line":1,"column":2639}},{"source":"main_bw.js","original":{"line":199,"column":32},"generated":{"line":1,"column":2654}},{"source":"main_bw.js","original":{"line":199,"column":57},"generated":{"line":1,"column":2663}},{"source":"main_bw.js","name":"data","original":{"line":199,"column":43},"generated":{"line":1,"column":2677}},{"source":"main_bw.js","name":"type","original":{"line":199,"column":48},"generated":{"line":1,"column":2679}},{"source":"main_bw.js","original":{"line":199,"column":69},"generated":{"line":1,"column":2684}},{"source":"main_bw.js","name":"candidate","original":{"line":200,"column":7},"generated":{"line":1,"column":2685}},{"source":"main_bw.js","name":"candidate","original":{"line":200,"column":7},"generated":{"line":1,"column":2689}},{"source":"main_bw.js","original":{"line":200,"column":19},"generated":{"line":1,"column":2691}},{"source":"main_bw.js","name":"RTCIceCandidate","original":{"line":200,"column":23},"generated":{"line":1,"column":2695}},{"source":"main_bw.js","original":{"line":200,"column":39},"generated":{"line":1,"column":2711}},{"source":"main_bw.js","name":"sdpMLineIndex","original":{"line":201,"column":4},"generated":{"line":1,"column":2712}},{"source":"main_bw.js","name":"data","original":{"line":201,"column":19},"generated":{"line":1,"column":2726}},{"source":"main_bw.js","name":"label","original":{"line":201,"column":24},"generated":{"line":1,"column":2728}},{"source":"main_bw.js","name":"candidate","original":{"line":202,"column":4},"generated":{"line":1,"column":2734}},{"source":"main_bw.js","name":"data","original":{"line":202,"column":15},"generated":{"line":1,"column":2744}},{"source":"main_bw.js","name":"candidate","original":{"line":202,"column":20},"generated":{"line":1,"column":2746}},{"source":"main_bw.js","name":"pc","original":{"line":204,"column":3},"generated":{"line":1,"column":2758}},{"source":"main_bw.js","name":"addIceCandidate","original":{"line":204,"column":6},"generated":{"line":1,"column":2760}},{"source":"main_bw.js","name":"candidate","original":{"line":204,"column":22},"generated":{"line":1,"column":2776}},{"source":"main_bw.js","name":"then","original":{"line":205,"column":5},"generated":{"line":1,"column":2779}},{"source":"main_bw.js","original":{"line":205,"column":10},"generated":{"line":1,"column":2784}},{"source":"main_bw.js","name":"console","original":{"line":206,"column":5},"generated":{"line":1,"column":2789}},{"source":"main_bw.js","name":"log","original":{"line":206,"column":13},"generated":{"line":1,"column":2797}},{"source":"main_bw.js","original":{"line":206,"column":17},"generated":{"line":1,"column":2801}},{"source":"main_bw.js","name":"catch","original":{"line":208,"column":5},"generated":{"line":1,"column":2837}},{"source":"main_bw.js","name":"err","original":{"line":208,"column":11},"generated":{"line":1,"column":2843}},{"source":"main_bw.js","name":"console","original":{"line":209,"column":5},"generated":{"line":1,"column":2847}},{"source":"main_bw.js","name":"error","original":{"line":209,"column":13},"generated":{"line":1,"column":2855}},{"source":"main_bw.js","name":"err","original":{"line":209,"column":19},"generated":{"line":1,"column":2861}},{"source":"main_bw.js","name":"console","original":{"line":213,"column":3},"generated":{"line":1,"column":2871}},{"source":"main_bw.js","name":"log","original":{"line":213,"column":11},"generated":{"line":1,"column":2879}},{"source":"main_bw.js","original":{"line":213,"column":15},"generated":{"line":1,"column":2883}},{"source":"main_bw.js","name":"data","original":{"line":213,"column":42},"generated":{"line":1,"column":2909}},{"source":"main_bw.js","name":"console","original":{"line":183,"column":3},"generated":{"line":1,"column":2917}},{"source":"main_bw.js","name":"error","original":{"line":183,"column":11},"generated":{"line":1,"column":2925}},{"source":"main_bw.js","original":{"line":183,"column":17},"generated":{"line":1,"column":2931}},{"source":"main_bw.js","name":"roomid","original":{"line":220,"column":1},"generated":{"line":1,"column":2960}},{"source":"main_bw.js","original":{"line":220,"column":10},"generated":{"line":1,"column":2962}},{"source":"main_bw.js","name":"socket","original":{"line":221,"column":1},"generated":{"line":1,"column":2971}},{"source":"main_bw.js","name":"emit","original":{"line":221,"column":8},"generated":{"line":1,"column":2973}},{"source":"main_bw.js","original":{"line":221,"column":13},"generated":{"line":1,"column":2978}},{"source":"main_bw.js","name":"roomid","original":{"line":221,"column":21},"generated":{"line":1,"column":2985}},{"source":"main_bw.js","original":{"line":223,"column":8},"generated":{"line":1,"column":2989}},{"source":"main_bw.js","original":{"line":226,"column":0},"generated":{"line":1,"column":2991}},{"source":"main_bw.js","name":"connSignalServer","original":{"line":226,"column":9},"generated":{"line":1,"column":3000}},{"source":"main_bw.js","original":{"line":246,"column":8},"generated":{"line":1,"column":3004}},{"source":"main_bw.js","name":"start","original":{"line":229,"column":1},"generated":{"line":1,"column":3011}},{"source":"main_bw.js","original":{"line":246,"column":8},"generated":{"line":1,"column":3016}},{"source":"main_bw.js","original":{"line":249,"column":0},"generated":{"line":1,"column":3018}},{"source":"main_bw.js","name":"getMediaStream","original":{"line":249,"column":15},"generated":{"line":1,"column":3033}},{"source":"main_bw.js","name":"stream","original":{"line":249,"column":30},"generated":{"line":1,"column":3035}},{"source":"main_bw.js","name":"net","original":{"line":251,"column":6},"generated":{"line":1,"column":3038}},{"source":"main_bw.js","name":"net","original":{"line":251,"column":6},"generated":{"line":1,"column":3044}},{"source":"main_bw.js","name":"posenet","original":{"line":251,"column":18},"generated":{"line":1,"column":3052}},{"source":"main_bw.js","name":"load","original":{"line":251,"column":26},"generated":{"line":1,"column":3054}},{"source":"main_bw.js","original":{"line":251,"column":31},"generated":{"line":1,"column":3059}},{"source":"main_bw.js","name":"architecture","original":{"line":252,"column":4},"generated":{"line":1,"column":3060}},{"source":"main_bw.js","original":{"line":252,"column":18},"generated":{"line":1,"column":3073}},{"source":"main_bw.js","name":"outputStride","original":{"line":253,"column":4},"generated":{"line":1,"column":3087}},{"source":"main_bw.js","name":"defaultMobileNetStride","original":{"line":253,"column":18},"generated":{"line":1,"column":3100}},{"source":"main_bw.js","name":"inputResolution","original":{"line":254,"column":4},"generated":{"line":1,"column":3102}},{"source":"main_bw.js","name":"defaultMobileNetInputResolution","original":{"line":254,"column":21},"generated":{"line":1,"column":3118}},{"source":"main_bw.js","name":"multiplier","original":{"line":255,"column":4},"generated":{"line":1,"column":3120}},{"source":"main_bw.js","name":"defaultMobileNetMultiplier","original":{"line":255,"column":16},"generated":{"line":1,"column":3131}},{"source":"main_bw.js","name":"quantBytes","original":{"line":256,"column":4},"generated":{"line":1,"column":3133}},{"source":"main_bw.js","name":"defaultQuantBytes","original":{"line":256,"column":16},"generated":{"line":1,"column":3144}},{"source":"main_bw.js","name":"localStream","original":{"line":259,"column":1},"generated":{"line":1,"column":3148}},{"source":"main_bw.js","name":"stream","original":{"line":259,"column":15},"generated":{"line":1,"column":3150}},{"source":"main_bw.js","name":"localVideo","original":{"line":260,"column":1},"generated":{"line":1,"column":3152}},{"source":"main_bw.js","name":"srcObject","original":{"line":260,"column":12},"generated":{"line":1,"column":3154}},{"source":"main_bw.js","name":"localStream","original":{"line":260,"column":24},"generated":{"line":1,"column":3164}},{"source":"main_bw.js","name":"conn","original":{"line":262,"column":1},"generated":{"line":1,"column":3166}},{"source":"main_bw.js","name":"localVideo","original":{"line":263,"column":22},"generated":{"line":1,"column":3171}},{"source":"main_bw.js","name":"localVideo","original":{"line":263,"column":22},"generated":{"line":1,"column":3173}},{"source":"main_bw.js","name":"localVideo","original":{"line":263,"column":22},"generated":{"line":1,"column":3175}},{"source":"main_bw.js","name":"localVideo","original":{"line":263,"column":22},"generated":{"line":1,"column":3197}},{"source":"main_bw.js","name":"net","original":{"line":263,"column":33},"generated":{"line":1,"column":3199}},{"source":"main_bw.js","original":{"line":270,"column":0},"generated":{"line":1,"column":3202}},{"source":"main_bw.js","name":"getDeskStream","original":{"line":270,"column":9},"generated":{"line":1,"column":3211}},{"source":"main_bw.js","name":"stream","original":{"line":270,"column":23},"generated":{"line":1,"column":3213}},{"source":"main_bw.js","name":"localStream","original":{"line":271,"column":1},"generated":{"line":1,"column":3216}},{"source":"main_bw.js","name":"stream","original":{"line":271,"column":15},"generated":{"line":1,"column":3218}},{"source":"main_bw.js","original":{"line":274,"column":0},"generated":{"line":1,"column":3220}},{"source":"main_bw.js","name":"handleError","original":{"line":274,"column":9},"generated":{"line":1,"column":3229}},{"source":"main_bw.js","name":"err","original":{"line":274,"column":21},"generated":{"line":1,"column":3231}},{"source":"main_bw.js","name":"console","original":{"line":275,"column":1},"generated":{"line":1,"column":3234}},{"source":"main_bw.js","name":"error","original":{"line":275,"column":9},"generated":{"line":1,"column":3242}},{"source":"main_bw.js","original":{"line":275,"column":15},"generated":{"line":1,"column":3248}},{"source":"main_bw.js","name":"err","original":{"line":275,"column":46},"generated":{"line":1,"column":3278}},{"source":"main_bw.js","original":{"line":278,"column":0},"generated":{"line":1,"column":3281}},{"source":"main_bw.js","name":"shareDesk","original":{"line":278,"column":9},"generated":{"line":1,"column":3290}},{"source":"main_bw.js","name":"IsPC","original":{"line":280,"column":4},"generated":{"line":1,"column":3294}},{"source":"main_bw.js","name":"IsPC","original":{"line":280,"column":4},"generated":{"line":1,"column":3302}},{"source":"main_bw.js","name":"navigator","original":{"line":281,"column":2},"generated":{"line":1,"column":3311}},{"source":"main_bw.js","name":"mediaDevices","original":{"line":281,"column":12},"generated":{"line":1,"column":3321}},{"source":"main_bw.js","name":"getDisplayMedia","original":{"line":281,"column":25},"generated":{"line":1,"column":3334}},{"source":"main_bw.js","original":{"line":281,"column":41},"generated":{"line":1,"column":3350}},{"source":"main_bw.js","name":"video","original":{"line":281,"column":42},"generated":{"line":1,"column":3351}},{"source":"main_bw.js","original":{"line":281,"column":49},"generated":{"line":1,"column":3358}},{"source":"main_bw.js","name":"then","original":{"line":282,"column":4},"generated":{"line":1,"column":3362}},{"source":"main_bw.js","name":"getDeskStream","original":{"line":282,"column":9},"generated":{"line":1,"column":3367}},{"source":"main_bw.js","name":"catch","original":{"line":283,"column":4},"generated":{"line":1,"column":3370}},{"source":"main_bw.js","name":"handleError","original":{"line":283,"column":10},"generated":{"line":1,"column":3376}},{"source":"main_bw.js","original":{"line":285,"column":9},"generated":{"line":1,"column":3380}},{"source":"main_bw.js","original":{"line":292,"column":0},"generated":{"line":1,"column":3383}},{"source":"main_bw.js","name":"start","original":{"line":292,"column":9},"generated":{"line":1,"column":3392}},{"source":"main_bw.js","original":{"line":294,"column":4},"generated":{"line":1,"column":3396}},{"source":"main_bw.js","name":"navigator","original":{"line":294,"column":5},"generated":{"line":1,"column":3399}},{"source":"main_bw.js","name":"mediaDevices","original":{"line":294,"column":15},"generated":{"line":1,"column":3409}},{"source":"main_bw.js","name":"navigator","original":{"line":295,"column":3},"generated":{"line":1,"column":3423}},{"source":"main_bw.js","name":"mediaDevices","original":{"line":295,"column":13},"generated":{"line":1,"column":3433}},{"source":"main_bw.js","name":"getUserMedia","original":{"line":295,"column":26},"generated":{"line":1,"column":3446}},{"source":"main_bw.js","original":{"line":294,"column":4},"generated":{"line":1,"column":3459}},{"source":"main_bw.js","name":"navigator","original":{"line":307,"column":2},"generated":{"line":1,"column":3460}},{"source":"main_bw.js","name":"mediaDevices","original":{"line":307,"column":12},"generated":{"line":1,"column":3470}},{"source":"main_bw.js","name":"getUserMedia","original":{"line":307,"column":25},"generated":{"line":1,"column":3483}},{"source":"main_bw.js","original":{"line":300,"column":20},"generated":{"line":1,"column":3496}},{"source":"main_bw.js","name":"video","original":{"line":301,"column":3},"generated":{"line":1,"column":3497}},{"source":"main_bw.js","original":{"line":301,"column":10},"generated":{"line":1,"column":3504}},{"source":"main_bw.js","name":"audio","original":{"line":302,"column":3},"generated":{"line":1,"column":3506}},{"source":"main_bw.js","original":{"line":302,"column":10},"generated":{"line":1,"column":3513}},{"source":"main_bw.js","name":"then","original":{"line":308,"column":6},"generated":{"line":1,"column":3517}},{"source":"main_bw.js","name":"getMediaStream","original":{"line":308,"column":11},"generated":{"line":1,"column":3522}},{"source":"main_bw.js","name":"catch","original":{"line":309,"column":6},"generated":{"line":1,"column":3525}},{"source":"main_bw.js","name":"handleError","original":{"line":309,"column":12},"generated":{"line":1,"column":3531}},{"source":"main_bw.js","name":"console","original":{"line":296,"column":2},"generated":{"line":1,"column":3539}},{"source":"main_bw.js","name":"error","original":{"line":296,"column":10},"generated":{"line":1,"column":3547}},{"source":"main_bw.js","original":{"line":296,"column":16},"generated":{"line":1,"column":3553}},{"source":"main_bw.js","original":{"line":314,"column":0},"generated":{"line":1,"column":3591}},{"source":"main_bw.js","name":"getRemoteStream","original":{"line":314,"column":9},"generated":{"line":1,"column":3600}},{"source":"main_bw.js","name":"e","original":{"line":314,"column":25},"generated":{"line":1,"column":3602}},{"source":"main_bw.js","name":"remoteStream","original":{"line":315,"column":1},"generated":{"line":1,"column":3605}},{"source":"main_bw.js","name":"e","original":{"line":315,"column":16},"generated":{"line":1,"column":3607}},{"source":"main_bw.js","name":"streams","original":{"line":315,"column":18},"generated":{"line":1,"column":3609}},{"source":"main_bw.js","original":{"line":315,"column":26},"generated":{"line":1,"column":3617}},{"source":"main_bw.js","name":"remoteVideo","original":{"line":316,"column":1},"generated":{"line":1,"column":3620}},{"source":"main_bw.js","name":"srcObject","original":{"line":316,"column":13},"generated":{"line":1,"column":3622}},{"source":"main_bw.js","name":"e","original":{"line":316,"column":25},"generated":{"line":1,"column":3632}},{"source":"main_bw.js","name":"streams","original":{"line":316,"column":27},"generated":{"line":1,"column":3634}},{"source":"main_bw.js","original":{"line":316,"column":35},"generated":{"line":1,"column":3642}},{"source":"main_bw.js","original":{"line":319,"column":0},"generated":{"line":1,"column":3645}},{"source":"main_bw.js","name":"handleOfferError","original":{"line":319,"column":9},"generated":{"line":1,"column":3654}},{"source":"main_bw.js","name":"err","original":{"line":319,"column":26},"generated":{"line":1,"column":3656}},{"source":"main_bw.js","name":"console","original":{"line":320,"column":1},"generated":{"line":1,"column":3659}},{"source":"main_bw.js","name":"error","original":{"line":320,"column":9},"generated":{"line":1,"column":3667}},{"source":"main_bw.js","original":{"line":320,"column":15},"generated":{"line":1,"column":3673}},{"source":"main_bw.js","name":"err","original":{"line":320,"column":42},"generated":{"line":1,"column":3699}},{"source":"main_bw.js","original":{"line":323,"column":0},"generated":{"line":1,"column":3702}},{"source":"main_bw.js","name":"handleAnswerError","original":{"line":323,"column":9},"generated":{"line":1,"column":3711}},{"source":"main_bw.js","name":"err","original":{"line":323,"column":27},"generated":{"line":1,"column":3713}},{"source":"main_bw.js","name":"console","original":{"line":324,"column":1},"generated":{"line":1,"column":3716}},{"source":"main_bw.js","name":"error","original":{"line":324,"column":9},"generated":{"line":1,"column":3724}},{"source":"main_bw.js","original":{"line":324,"column":15},"generated":{"line":1,"column":3730}},{"source":"main_bw.js","name":"err","original":{"line":324,"column":43},"generated":{"line":1,"column":3757}},{"source":"main_bw.js","original":{"line":327,"column":0},"generated":{"line":1,"column":3760}},{"source":"main_bw.js","name":"getAnswer","original":{"line":327,"column":9},"generated":{"line":1,"column":3769}},{"source":"main_bw.js","name":"desc","original":{"line":327,"column":19},"generated":{"line":1,"column":3771}},{"source":"main_bw.js","name":"pc","original":{"line":328,"column":1},"generated":{"line":1,"column":3774}},{"source":"main_bw.js","name":"setLocalDescription","original":{"line":328,"column":4},"generated":{"line":1,"column":3776}},{"source":"main_bw.js","name":"desc","original":{"line":328,"column":24},"generated":{"line":1,"column":3796}},{"source":"main_bw.js","name":"bandwidth","original":{"line":329,"column":1},"generated":{"line":1,"column":3799}},{"source":"main_bw.js","name":"disabled","original":{"line":329,"column":11},"generated":{"line":1,"column":3801}},{"source":"main_bw.js","original":{"line":329,"column":22},"generated":{"line":1,"column":3811}},{"source":"main_bw.js","name":"sendMessage","original":{"line":332,"column":1},"generated":{"line":1,"column":3813}},{"source":"main_bw.js","name":"roomid","original":{"line":332,"column":13},"generated":{"line":1,"column":3815}},{"source":"main_bw.js","name":"desc","original":{"line":332,"column":21},"generated":{"line":1,"column":3817}},{"source":"main_bw.js","original":{"line":335,"column":0},"generated":{"line":1,"column":3820}},{"source":"main_bw.js","name":"getOffer","original":{"line":335,"column":9},"generated":{"line":1,"column":3829}},{"source":"main_bw.js","name":"desc","original":{"line":335,"column":18},"generated":{"line":1,"column":3831}},{"source":"main_bw.js","name":"pc","original":{"line":336,"column":1},"generated":{"line":1,"column":3834}},{"source":"main_bw.js","name":"setLocalDescription","original":{"line":336,"column":4},"generated":{"line":1,"column":3836}},{"source":"main_bw.js","name":"desc","original":{"line":336,"column":24},"generated":{"line":1,"column":3856}},{"source":"main_bw.js","name":"sendMessage","original":{"line":340,"column":1},"generated":{"line":1,"column":3859}},{"source":"main_bw.js","name":"roomid","original":{"line":340,"column":13},"generated":{"line":1,"column":3861}},{"source":"main_bw.js","name":"offerdesc","original":{"line":337,"column":1},"generated":{"line":1,"column":3863}},{"source":"main_bw.js","name":"desc","original":{"line":337,"column":13},"generated":{"line":1,"column":3865}},{"source":"main_bw.js","original":{"line":344,"column":0},"generated":{"line":1,"column":3868}},{"source":"main_bw.js","name":"createPeerConnection","original":{"line":344,"column":9},"generated":{"line":1,"column":3877}},{"source":"main_bw.js","name":"console","original":{"line":349,"column":1},"generated":{"line":1,"column":3881}},{"source":"main_bw.js","name":"log","original":{"line":349,"column":9},"generated":{"line":1,"column":3889}},{"source":"main_bw.js","original":{"line":349,"column":13},"generated":{"line":1,"column":3893}},{"source":"main_bw.js","name":"pc","original":{"line":350,"column":5},"generated":{"line":1,"column":3922}},{"source":"main_bw.js","name":"console","original":{"line":369,"column":2},"generated":{"line":1,"column":3924}},{"source":"main_bw.js","name":"log","original":{"line":369,"column":10},"generated":{"line":1,"column":3932}},{"source":"main_bw.js","original":{"line":369,"column":14},"generated":{"line":1,"column":3936}},{"source":"main_bw.js","name":"pc","original":{"line":351,"column":2},"generated":{"line":1,"column":3965}},{"source":"main_bw.js","original":{"line":351,"column":7},"generated":{"line":1,"column":3967}},{"source":"main_bw.js","name":"RTCPeerConnection","original":{"line":351,"column":11},"generated":{"line":1,"column":3971}},{"source":"main_bw.js","name":"pcConfig","original":{"line":351,"column":29},"generated":{"line":1,"column":3989}},{"source":"main_bw.js","name":"onicecandidate","original":{"line":353,"column":5},"generated":{"line":1,"column":3993}},{"source":"main_bw.js","name":"e","original":{"line":353,"column":23},"generated":{"line":1,"column":4008}},{"source":"main_bw.js","name":"e","original":{"line":353,"column":23},"generated":{"line":1,"column":4009}},{"source":"main_bw.js","name":"e","original":{"line":355,"column":6},"generated":{"line":1,"column":4013}},{"source":"main_bw.js","name":"candidate","original":{"line":355,"column":8},"generated":{"line":1,"column":4015}},{"source":"main_bw.js","name":"sendMessage","original":{"line":356,"column":4},"generated":{"line":1,"column":4025}},{"source":"main_bw.js","name":"roomid","original":{"line":356,"column":16},"generated":{"line":1,"column":4027}},{"source":"main_bw.js","original":{"line":356,"column":24},"generated":{"line":1,"column":4029}},{"source":"main_bw.js","name":"type","original":{"line":357,"column":5},"generated":{"line":1,"column":4030}},{"source":"main_bw.js","original":{"line":357,"column":11},"generated":{"line":1,"column":4035}},{"source":"main_bw.js","name":"label","original":{"line":358,"column":5},"generated":{"line":1,"column":4047}},{"source":"main_bw.js","name":"event","original":{"line":358,"column":11},"generated":{"line":1,"column":4053}},{"source":"main_bw.js","name":"candidate","original":{"line":358,"column":17},"generated":{"line":1,"column":4059}},{"source":"main_bw.js","name":"sdpMLineIndex","original":{"line":358,"column":27},"generated":{"line":1,"column":4069}},{"source":"main_bw.js","name":"id","original":{"line":359,"column":5},"generated":{"line":1,"column":4083}},{"source":"main_bw.js","name":"event","original":{"line":359,"column":8},"generated":{"line":1,"column":4086}},{"source":"main_bw.js","name":"candidate","original":{"line":359,"column":14},"generated":{"line":1,"column":4092}},{"source":"main_bw.js","name":"sdpMid","original":{"line":359,"column":24},"generated":{"line":1,"column":4102}},{"source":"main_bw.js","name":"candidate","original":{"line":360,"column":5},"generated":{"line":1,"column":4109}},{"source":"main_bw.js","name":"event","original":{"line":360,"column":16},"generated":{"line":1,"column":4119}},{"source":"main_bw.js","name":"candidate","original":{"line":360,"column":22},"generated":{"line":1,"column":4125}},{"source":"main_bw.js","name":"candidate","original":{"line":360,"column":32},"generated":{"line":1,"column":4135}},{"source":"main_bw.js","name":"console","original":{"line":363,"column":4},"generated":{"line":1,"column":4147}},{"source":"main_bw.js","name":"log","original":{"line":363,"column":12},"generated":{"line":1,"column":4155}},{"source":"main_bw.js","original":{"line":363,"column":16},"generated":{"line":1,"column":4159}},{"source":"main_bw.js","name":"pc","original":{"line":367,"column":2},"generated":{"line":1,"column":4190}},{"source":"main_bw.js","name":"ontrack","original":{"line":367,"column":5},"generated":{"line":1,"column":4192}},{"source":"main_bw.js","name":"getRemoteStream","original":{"line":367,"column":15},"generated":{"line":1,"column":4200}},{"source":"main_bw.js","original":{"line":377,"column":0},"generated":{"line":1,"column":4203}},{"source":"main_bw.js","name":"bindTracks","original":{"line":377,"column":9},"generated":{"line":1,"column":4212}},{"source":"main_bw.js","name":"console","original":{"line":379,"column":1},"generated":{"line":1,"column":4216}},{"source":"main_bw.js","name":"log","original":{"line":379,"column":9},"generated":{"line":1,"column":4224}},{"source":"main_bw.js","original":{"line":379,"column":13},"generated":{"line":1,"column":4228}},{"source":"main_bw.js","original":{"line":381,"column":12},"generated":{"line":1,"column":4267}},{"source":"main_bw.js","name":"pc","original":{"line":381,"column":5},"generated":{"line":1,"column":4274}},{"source":"main_bw.js","name":"undefined","original":{"line":381,"column":36},"generated":{"line":1,"column":4282}},{"source":"main_bw.js","name":"localStream","original":{"line":381,"column":20},"generated":{"line":1,"column":4286}},{"source":"main_bw.js","original":{"line":386,"column":20},"generated":{"line":1,"column":4288}},{"source":"main_bw.js","name":"localStream","original":{"line":386,"column":4},"generated":{"line":1,"column":4295}},{"source":"main_bw.js","name":"undefined","original":{"line":386,"column":44},"generated":{"line":1,"column":4303}},{"source":"main_bw.js","name":"localStream","original":{"line":386,"column":28},"generated":{"line":1,"column":4307}},{"source":"main_bw.js","name":"localStream","original":{"line":392,"column":1},"generated":{"line":1,"column":4309}},{"source":"main_bw.js","name":"getTracks","original":{"line":392,"column":13},"generated":{"line":1,"column":4311}},{"source":"main_bw.js","name":"forEach","original":{"line":392,"column":25},"generated":{"line":1,"column":4323}},{"source":"main_bw.js","name":"track","original":{"line":392,"column":34},"generated":{"line":1,"column":4331}},{"source":"main_bw.js","name":"pc","original":{"line":393,"column":2},"generated":{"line":1,"column":4335}},{"source":"main_bw.js","name":"addTrack","original":{"line":393,"column":5},"generated":{"line":1,"column":4337}},{"source":"main_bw.js","name":"track","original":{"line":393,"column":14},"generated":{"line":1,"column":4346}},{"source":"main_bw.js","name":"localStream","original":{"line":393,"column":21},"generated":{"line":1,"column":4348}},{"source":"main_bw.js","name":"console","original":{"line":387,"column":2},"generated":{"line":1,"column":4353}},{"source":"main_bw.js","name":"error","original":{"line":387,"column":10},"generated":{"line":1,"column":4361}},{"source":"main_bw.js","original":{"line":387,"column":16},"generated":{"line":1,"column":4367}},{"source":"main_bw.js","name":"console","original":{"line":382,"column":2},"generated":{"line":1,"column":4404}},{"source":"main_bw.js","name":"error","original":{"line":382,"column":10},"generated":{"line":1,"column":4412}},{"source":"main_bw.js","original":{"line":382,"column":16},"generated":{"line":1,"column":4418}},{"source":"main_bw.js","original":{"line":398,"column":0},"generated":{"line":1,"column":4446}},{"source":"main_bw.js","name":"call","original":{"line":398,"column":9},"generated":{"line":1,"column":4455}},{"source":"main_bw.js","name":"state","original":{"line":400,"column":4},"generated":{"line":1,"column":4459}},{"source":"main_bw.js","original":{"line":400,"column":14},"generated":{"line":1,"column":4462}},{"source":"main_bw.js","name":"state","original":{"line":400,"column":4},"generated":{"line":1,"column":4478}},{"source":"main_bw.js","original":{"line":400,"column":28},"generated":{"line":1,"column":4480}},{"source":"main_bw.js","name":"pc","original":{"line":407,"column":2},"generated":{"line":1,"column":4481}},{"source":"main_bw.js","name":"createOffer","original":{"line":407,"column":5},"generated":{"line":1,"column":4483}},{"source":"main_bw.js","original":{"line":402,"column":21},"generated":{"line":1,"column":4495}},{"source":"main_bw.js","name":"offerToRecieveAudio","original":{"line":403,"column":3},"generated":{"line":1,"column":4496}},{"source":"main_bw.js","original":{"line":403,"column":24},"generated":{"line":1,"column":4516}},{"source":"main_bw.js","name":"offerToRecieveVideo","original":{"line":404,"column":3},"generated":{"line":1,"column":4518}},{"source":"main_bw.js","original":{"line":404,"column":24},"generated":{"line":1,"column":4538}},{"source":"main_bw.js","name":"then","original":{"line":408,"column":4},"generated":{"line":1,"column":4542}},{"source":"main_bw.js","name":"getOffer","original":{"line":408,"column":9},"generated":{"line":1,"column":4547}},{"source":"main_bw.js","name":"catch","original":{"line":409,"column":4},"generated":{"line":1,"column":4550}},{"source":"main_bw.js","name":"handleOfferError","original":{"line":409,"column":10},"generated":{"line":1,"column":4556}},{"source":"main_bw.js","original":{"line":413,"column":0},"generated":{"line":1,"column":4560}},{"source":"main_bw.js","name":"hangup","original":{"line":413,"column":9},"generated":{"line":1,"column":4569}},{"source":"main_bw.js","name":"pc","original":{"line":415,"column":5},"generated":{"line":1,"column":4573}},{"source":"main_bw.js","name":"offerdesc","original":{"line":419,"column":1},"generated":{"line":1,"column":4577}},{"source":"main_bw.js","original":{"line":419,"column":13},"generated":{"line":1,"column":4579}},{"source":"main_bw.js","name":"pc","original":{"line":421,"column":1},"generated":{"line":1,"column":4584}},{"source":"main_bw.js","name":"close","original":{"line":421,"column":4},"generated":{"line":1,"column":4586}},{"source":"main_bw.js","name":"pc","original":{"line":422,"column":1},"generated":{"line":1,"column":4594}},{"source":"main_bw.js","original":{"line":422,"column":6},"generated":{"line":1,"column":4596}},{"source":"main_bw.js","original":{"line":426,"column":0},"generated":{"line":1,"column":4602}},{"source":"main_bw.js","name":"closeLocalMedia","original":{"line":426,"column":9},"generated":{"line":1,"column":4611}},{"source":"main_bw.js","name":"localStream","original":{"line":428,"column":6},"generated":{"line":1,"column":4615}},{"source":"main_bw.js","name":"localStream","original":{"line":428,"column":6},"generated":{"line":1,"column":4621}},{"source":"main_bw.js","name":"localStream","original":{"line":429,"column":2},"generated":{"line":1,"column":4624}},{"source":"main_bw.js","name":"getTracks","original":{"line":429,"column":14},"generated":{"line":1,"column":4626}},{"source":"main_bw.js","name":"forEach","original":{"line":429,"column":26},"generated":{"line":1,"column":4638}},{"source":"main_bw.js","name":"track","original":{"line":429,"column":35},"generated":{"line":1,"column":4646}},{"source":"main_bw.js","name":"track","original":{"line":430,"column":3},"generated":{"line":1,"column":4650}},{"source":"main_bw.js","name":"stop","original":{"line":430,"column":9},"generated":{"line":1,"column":4652}},{"source":"main_bw.js","name":"localStream","original":{"line":433,"column":1},"generated":{"line":1,"column":4661}},{"source":"main_bw.js","original":{"line":433,"column":15},"generated":{"line":1,"column":4663}},{"source":"main_bw.js","original":{"line":436,"column":0},"generated":{"line":1,"column":4668}},{"source":"main_bw.js","name":"leave","original":{"line":436,"column":9},"generated":{"line":1,"column":4677}},{"source":"main_bw.js","name":"socket","original":{"line":438,"column":1},"generated":{"line":1,"column":4681}},{"source":"main_bw.js","name":"emit","original":{"line":438,"column":8},"generated":{"line":1,"column":4683}},{"source":"main_bw.js","original":{"line":438,"column":13},"generated":{"line":1,"column":4688}},{"source":"main_bw.js","name":"roomid","original":{"line":438,"column":22},"generated":{"line":1,"column":4696}},{"source":"main_bw.js","name":"hangup","original":{"line":440,"column":1},"generated":{"line":1,"column":4699}},{"source":"main_bw.js","name":"closeLocalMedia","original":{"line":441,"column":1},"generated":{"line":1,"column":4703}},{"source":"main_bw.js","name":"btnConn","original":{"line":443,"column":1},"generated":{"line":1,"column":4707}},{"source":"main_bw.js","name":"disabled","original":{"line":443,"column":9},"generated":{"line":1,"column":4709}},{"source":"main_bw.js","original":{"line":443,"column":20},"generated":{"line":1,"column":4719}},{"source":"main_bw.js","name":"btnLeave","original":{"line":444,"column":1},"generated":{"line":1,"column":4721}},{"source":"main_bw.js","name":"disabled","original":{"line":444,"column":10},"generated":{"line":1,"column":4723}},{"source":"main_bw.js","original":{"line":444,"column":21},"generated":{"line":1,"column":4733}},{"source":"main_bw.js","name":"bandwidth","original":{"line":445,"column":1},"generated":{"line":1,"column":4735}},{"source":"main_bw.js","name":"disabled","original":{"line":445,"column":11},"generated":{"line":1,"column":4737}},{"source":"main_bw.js","original":{"line":445,"column":22},"generated":{"line":1,"column":4747}},{"source":"main_bw.js","original":{"line":448,"column":0},"generated":{"line":1,"column":4749}},{"source":"main_bw.js","name":"change_bw","original":{"line":448,"column":9},"generated":{"line":1,"column":4758}},{"source":"main_bw.js","name":"bandwidth","original":{"line":449,"column":1},"generated":{"line":1,"column":4762}},{"source":"main_bw.js","name":"disabled","original":{"line":449,"column":11},"generated":{"line":1,"column":4764}},{"source":"main_bw.js","original":{"line":449,"column":22},"generated":{"line":1,"column":4774}},{"source":"main_bw.js","name":"bw","original":{"line":450,"column":5},"generated":{"line":1,"column":4776}},{"source":"main_bw.js","name":"bw","original":{"line":450,"column":5},"generated":{"line":1,"column":4780}},{"source":"main_bw.js","name":"bandwidth","original":{"line":450,"column":10},"generated":{"line":1,"column":4782}},{"source":"main_bw.js","name":"options","original":{"line":450,"column":20},"generated":{"line":1,"column":4784}},{"source":"main_bw.js","name":"bandwidth","original":{"line":450,"column":28},"generated":{"line":1,"column":4792}},{"source":"main_bw.js","name":"selectedIndex","original":{"line":450,"column":38},"generated":{"line":1,"column":4794}},{"source":"main_bw.js","name":"value","original":{"line":450,"column":53},"generated":{"line":1,"column":4809}},{"source":"main_bw.js","name":"vsender","original":{"line":452,"column":5},"generated":{"line":1,"column":4815}},{"source":"main_bw.js","original":{"line":452,"column":15},"generated":{"line":1,"column":4817}},{"source":"main_bw.js","name":"pc","original":{"line":453,"column":15},"generated":{"line":1,"column":4822}},{"source":"main_bw.js","name":"getSenders","original":{"line":453,"column":18},"generated":{"line":1,"column":4824}},{"source":"main_bw.js","name":"forEach","original":{"line":455,"column":9},"generated":{"line":1,"column":4837}},{"source":"main_bw.js","name":"sender","original":{"line":455,"column":17},"generated":{"line":1,"column":4845}},{"source":"main_bw.js","name":"sender","original":{"line":456,"column":5},"generated":{"line":1,"column":4849}},{"source":"main_bw.js","original":{"line":456,"column":37},"generated":{"line":1,"column":4852}},{"source":"main_bw.js","name":"sender","original":{"line":456,"column":15},"generated":{"line":1,"column":4862}},{"source":"main_bw.js","name":"track","original":{"line":456,"column":22},"generated":{"line":1,"column":4864}},{"source":"main_bw.js","name":"kind","original":{"line":456,"column":28},"generated":{"line":1,"column":4870}},{"source":"main_bw.js","name":"vsender","original":{"line":457,"column":3},"generated":{"line":1,"column":4877}},{"source":"main_bw.js","name":"sender","original":{"line":457,"column":13},"generated":{"line":1,"column":4879}},{"source":"main_bw.js","name":"parameters","original":{"line":461,"column":5},"generated":{"line":1,"column":4884}},{"source":"main_bw.js","name":"parameters","original":{"line":461,"column":5},"generated":{"line":1,"column":4888}},{"source":"main_bw.js","name":"vsender","original":{"line":461,"column":18},"generated":{"line":1,"column":4890}},{"source":"main_bw.js","name":"getParameters","original":{"line":461,"column":26},"generated":{"line":1,"column":4892}},{"source":"main_bw.js","name":"parameters","original":{"line":463,"column":5},"generated":{"line":1,"column":4908}},{"source":"main_bw.js","name":"encodings","original":{"line":463,"column":16},"generated":{"line":1,"column":4910}},{"source":"main_bw.js","name":"parameters","original":{"line":464,"column":2},"generated":{"line":1,"column":4922}},{"source":"main_bw.js","name":"encodings","original":{"line":464,"column":13},"generated":{"line":1,"column":4924}},{"source":"main_bw.js","original":{"line":464,"column":23},"generated":{"line":1,"column":4934}},{"source":"main_bw.js","original":{"line":464,"column":24},"generated":{"line":1,"column":4935}},{"source":"main_bw.js","original":{"line":467,"column":11},"generated":{"line":1,"column":4940}},{"source":"main_bw.js","name":"bw","original":{"line":467,"column":4},"generated":{"line":1,"column":4954}},{"source":"main_bw.js","name":"parameters","original":{"line":468,"column":9},"generated":{"line":1,"column":4963}},{"source":"main_bw.js","name":"encodings","original":{"line":468,"column":20},"generated":{"line":1,"column":4965}},{"source":"main_bw.js","original":{"line":468,"column":30},"generated":{"line":1,"column":4975}},{"source":"main_bw.js","name":"maxBitrate","original":{"line":468,"column":33},"generated":{"line":1,"column":4978}},{"source":"main_bw.js","name":"parameters","original":{"line":470,"column":2},"generated":{"line":1,"column":4989}},{"source":"main_bw.js","name":"encodings","original":{"line":470,"column":13},"generated":{"line":1,"column":4991}},{"source":"main_bw.js","original":{"line":470,"column":23},"generated":{"line":1,"column":5001}},{"source":"main_bw.js","name":"maxBitrate","original":{"line":470,"column":26},"generated":{"line":1,"column":5004}},{"source":"main_bw.js","original":{"line":470,"column":44},"generated":{"line":1,"column":5015}},{"source":"main_bw.js","name":"bw","original":{"line":470,"column":39},"generated":{"line":1,"column":5019}},{"source":"main_bw.js","name":"vsender","original":{"line":473,"column":1},"generated":{"line":1,"column":5021}},{"source":"main_bw.js","name":"setParameters","original":{"line":473,"column":9},"generated":{"line":1,"column":5023}},{"source":"main_bw.js","name":"parameters","original":{"line":473,"column":23},"generated":{"line":1,"column":5037}},{"source":"main_bw.js","name":"then","original":{"line":474,"column":3},"generated":{"line":1,"column":5040}},{"source":"main_bw.js","original":{"line":474,"column":8},"generated":{"line":1,"column":5045}},{"source":"main_bw.js","name":"bandwidth","original":{"line":475,"column":3},"generated":{"line":1,"column":5050}},{"source":"main_bw.js","name":"disabled","original":{"line":475,"column":13},"generated":{"line":1,"column":5052}},{"source":"main_bw.js","original":{"line":475,"column":24},"generated":{"line":1,"column":5062}},{"source":"main_bw.js","name":"catch","original":{"line":477,"column":3},"generated":{"line":1,"column":5066}},{"source":"main_bw.js","name":"err","original":{"line":477,"column":9},"generated":{"line":1,"column":5072}},{"source":"main_bw.js","name":"console","original":{"line":478,"column":3},"generated":{"line":1,"column":5076}},{"source":"main_bw.js","name":"error","original":{"line":478,"column":11},"generated":{"line":1,"column":5084}},{"source":"main_bw.js","name":"err","original":{"line":478,"column":17},"generated":{"line":1,"column":5090}},{"source":"main_bw.js","name":"btnConn","original":{"line":528,"column":0},"generated":{"line":1,"column":5095}},{"source":"main_bw.js","name":"onclick","original":{"line":528,"column":8},"generated":{"line":1,"column":5097}},{"source":"main_bw.js","name":"connSignalServer","original":{"line":528,"column":18},"generated":{"line":1,"column":5105}},{"source":"main_bw.js","name":"btnLeave","original":{"line":529,"column":0},"generated":{"line":1,"column":5107}},{"source":"main_bw.js","name":"onclick","original":{"line":529,"column":9},"generated":{"line":1,"column":5109}},{"source":"main_bw.js","name":"leave","original":{"line":529,"column":19},"generated":{"line":1,"column":5117}},{"source":"main_bw.js","name":"bandwidth","original":{"line":530,"column":0},"generated":{"line":1,"column":5119}},{"source":"main_bw.js","name":"onchange","original":{"line":530,"column":10},"generated":{"line":1,"column":5121}},{"source":"main_bw.js","name":"change_bw","original":{"line":530,"column":21},"generated":{"line":1,"column":5130}}],"sources":{"main_bw.js":"'use strict'\n\nimport * as posenet from '@tensorflow-models/posenet';\nimport {bindPage,detectPoseInRealTime} from './camera';\n\nvar localVideo = document.querySelector('video#localvideo');\n\n\n//posenet \nconst imageScaleFactor = 0.50;\nconst flipHorizontal = false;\nconst outputStride = 16;\nconst imageElement = localVideo;\nconst scaleFactor=0.5;\n// load the posenet model\n/*const model =  posenet.load({\n        architecture: 'MobileNetV1',\n        outputStride: 16,\n        multiplier: 0.75\n    });\n*/\n//end posenet\nconst defaultQuantBytes = 2;\n\nconst defaultMobileNetMultiplier =  0.50 ;\nconst defaultMobileNetStride = 16;\nconst defaultMobileNetInputResolution = 500;\n\nconst defaultResNetMultiplier = 1.0;\nconst defaultResNetStride = 32;\nconst defaultResNetInputResolution = 250;\n\nasync function load(){\nconst net = await posenet.load({\n    architecture: 'MobileNetV1',\n    outputStride: defaultMobileNetStride,\n    inputResolution: defaultMobileNetInputResolution,\n    multiplier: defaultMobileNetMultiplier,\n    quantBytes: defaultQuantBytes\n  });\n  return net;\n\n}\n\n\nvar remoteVideo = document.querySelector('video#remotevideo');\n\n//var canvas = document.querySelector('canvas#detect_result');\n//    var context = canvas.getContext('2d');\n\n\nvar btnConn =  document.querySelector('button#connserver');\nvar btnLeave = document.querySelector('button#leave');\n\nvar offer = document.querySelector('textarea#offer');\nvar answer = document.querySelector('textarea#answer');\n\nvar shareDeskBox  = document.querySelector('input#shareDesk');\n\nvar bandwidth = document.querySelector('select#bandwidth');\n\nvar localStream = null;\nvar remoteStream = null;\n\nvar pc = null;\n\nvar roomid;\nvar socket = null;\n\nvar offerdesc = null;\nvar state = 'init';\n\n\n    \n\nvar pcConfig = {\n  'iceServers': [{\n\t  \n  \n\n   'urls': 'turn:stun.al.learningrtc.cn:3478',\n    'credential': \"mypasswd\",\n    'username': \"garrylea\"\n  }]\n};\n\n\n\nfunction sendMessage(roomid, data){\n\n\tconsole.log('send message to other end', roomid, data);\n\tif(!socket){\n\t\tconsole.log('socket is null');\n\t}\n\tsocket.emit('message', roomid, data);\n}\n\nfunction conn(){\n\n\tsocket = io.connect();\n\n\tsocket.on('joined', (roomid, id) => {\n\t\tconsole.log('receive joined message!', roomid, id);\n\t\tstate = 'joined'\n\n\t\t//如果是多人的话，第一个人不该在这里创建peerConnection\n\t\t//都等到收到一个otherjoin时再创建\n\t\t//所以，在这个消息里应该带当前房间的用户数\n\t\t//\n\t\t//create conn and bind media track\n\t\tcreatePeerConnection();\n\t\tbindTracks();\n\n\t\tbtnConn.disabled = true;\n\t\tbtnLeave.disabled = false;\n\t\tconsole.log('receive joined message, state=', state);\n\t});\n\n\tsocket.on('otherjoin', (roomid) => {\n\t\tconsole.log('receive joined message:', roomid, state);\n\n\t\t//如果是多人的话，每上来一个人都要创建一个新的 peerConnection\n\t\t//\n\t\tif(state === 'joined_unbind'){\n\t\t\tcreatePeerConnection();\n\t\t\tbindTracks();\n\t\t}\n\n\t\tstate = 'joined_conn';\n\t\tcall();\n\n\t\tconsole.log('receive other_join message, state=', state);\n\t});\n\n\tsocket.on('full', (roomid, id) => {\n\t\tconsole.log('receive full message', roomid, id);\n\t\tsocket.disconnect();\n\t\thangup();\n\t\tcloseLocalMedia();\n\t\tstate = 'leaved';\n\t\tconsole.log('receive full message, state=', state);\n\t\talert('the room is full!');\n\t});\n\n\tsocket.on('leaved', (roomid, id) => {\n\t\tconsole.log('receive leaved message', roomid, id);\n\t\tstate='leaved'\n\t\tsocket.disconnect();\n\t\tconsole.log('receive leaved message, state=', state);\n\n\t\tbtnConn.disabled = false;\n\t\tbtnLeave.disabled = true;\n\t});\n\n\tsocket.on('bye', (room, id) => {\n\t\tconsole.log('receive bye message', roomid, id);\n\t\t//state = 'created';\n\t\t//当是多人通话时，应该带上当前房间的用户数\n\t\t//如果当前房间用户不小于 2, 则不用修改状态\n\t\t//并且，关闭的应该是对应用户的peerconnection\n\t\t//在客户端应该维护一张peerconnection表，它是\n\t\t//一个key:value的格式，key=userid, value=peerconnection\n\t\tstate = 'joined_unbind';\n\t\thangup();\n\t\tconsole.log('receive bye message, state=', state);\n\t});\n\n\tsocket.on('disconnect', (socket) => {\n\t\tconsole.log('receive disconnect message!', roomid);\n\t\tif(!(state === 'leaved')){\n\t\t\thangup();\n\t\t\tcloseLocalMedia();\n\n\t\t}\n\t\tstate = 'leaved';\n\t\n\t});\n\n\tsocket.on('message', (roomid, data) => {\n\t\tconsole.log('receive message!', roomid, data);\n\n\t\tif(data === null || data === undefined){\n\t\t\tconsole.error('the message is invalid!');\n\t\t\treturn;\t\n\t\t}\n\n\t\tif(data.hasOwnProperty('type') && data.type === 'offer') {\n\t\t\t\n\t\t\tpc.setRemoteDescription(new RTCSessionDescription(data));\n\t\t\t//create answer\n\t\t\tpc.createAnswer()\n\t\t\t\t.then(getAnswer)\n\t\t\t\t.catch(handleAnswerError);\n\n\t\t}else if(data.hasOwnProperty('type') && data.type === 'answer'){\n\t\t\tpc.setRemoteDescription(new RTCSessionDescription(data));\n\t\t\tbandwidth.disabled = false;\n\t\t\n\t\t}else if (data.hasOwnProperty('type') && data.type === 'candidate'){\n\t\t\tvar candidate = new RTCIceCandidate({\n\t\t\t\tsdpMLineIndex: data.label,\n\t\t\t\tcandidate: data.candidate\n\t\t\t});\n\t\t\tpc.addIceCandidate(candidate)\n\t\t\t\t.then(()=>{\n\t\t\t\t\tconsole.log('Successed to add ice candidate');\t\n\t\t\t\t})\n\t\t\t\t.catch(err=>{\n\t\t\t\t\tconsole.error(err);\t\n\t\t\t\t});\n\t\t\n\t\t}else{\n\t\t\tconsole.log('the message is invalid!', data);\n\t\t\n\t\t}\n\t\n\t});\n\n\n\troomid = '111111'; \n\tsocket.emit('join', roomid);\n\n\treturn true;\n}\n\nfunction connSignalServer(){\n\t\n\t//开启本地视频\n\tstart();\n\t//bindPage();\n\n\t/*setupWebcam().then(\n        () => {\n            console.log(\"shoq\");\n\t\t\tconn();\n            showResult();\n        },\n        (err) => {\n            console.log(err);\n        }\n    )\n\t*/\n\t\n\t\n\n\treturn true;\n}\n\nasync function getMediaStream(stream){\n\nconst net = await posenet.load({\n    architecture: 'MobileNetV1',\n    outputStride: defaultMobileNetStride,\n    inputResolution: defaultMobileNetInputResolution,\n    multiplier: defaultMobileNetMultiplier,\n    quantBytes: defaultQuantBytes\n  });\n  \n\tlocalStream = stream;\t\n\tlocalVideo.srcObject = localStream;\n\n\tconn();\n\tdetectPoseInRealTime(localVideo,net);\n\t//showResult();\n\n\t\n\t\n}\n\nfunction getDeskStream(stream){\n\tlocalStream = stream;\n}\n\nfunction handleError(err){\n\tconsole.error('Failed to get Media Stream!', err);\n}\n\nfunction shareDesk(){\n\n\tif(IsPC()){\n\t\tnavigator.mediaDevices.getDisplayMedia({video: true})\n\t\t\t.then(getDeskStream)\n\t\t\t.catch(handleError);\n\n\t\treturn true;\n\t}\n\n\treturn false;\n\n}\n\nfunction start(){\n\n\tif(!navigator.mediaDevices ||\n\t\t!navigator.mediaDevices.getUserMedia){\n\t\tconsole.error('the getUserMedia is not supported!');\n\t\treturn;\n\t}else {\n\n\t\tvar constraints = {\n\t\t\tvideo: true,\n\t\t\taudio: false \n\t\t}\n\n\n\n\t\tnavigator.mediaDevices.getUserMedia(constraints)\n\t\t\t\t\t.then(getMediaStream)\n\t\t\t\t\t.catch(handleError);\n\t}\n\n}\n\nfunction getRemoteStream(e){\n\tremoteStream = e.streams[0];\n\tremoteVideo.srcObject = e.streams[0];\n}\n\nfunction handleOfferError(err){\n\tconsole.error('Failed to create offer:', err);\n}\n\nfunction handleAnswerError(err){\n\tconsole.error('Failed to create answer:', err);\n}\n\nfunction getAnswer(desc){\n\tpc.setLocalDescription(desc);\n\tbandwidth.disabled = false;\n\n\t//send answer sdp\n\tsendMessage(roomid, desc);\n}\n\nfunction getOffer(desc){\n\tpc.setLocalDescription(desc);\n\tofferdesc = desc;\n\n\t//send offer sdp\n\tsendMessage(roomid, offerdesc);\t\n\n}\n\nfunction createPeerConnection(){\n\n\t//如果是多人的话，在这里要创建一个新的连接.\n\t//新创建好的要放到一个map表中。\n\t//key=userid, value=peerconnection\n\tconsole.log('create RTCPeerConnection!');\n\tif(!pc){\n\t\tpc = new RTCPeerConnection(pcConfig);\n\n\t\tpc.onicecandidate = (e)=>{\n\n\t\t\tif(e.candidate) {\n\t\t\t\tsendMessage(roomid, {\n\t\t\t\t\ttype: 'candidate',\n\t\t\t\t\tlabel:event.candidate.sdpMLineIndex, \n\t\t\t\t\tid:event.candidate.sdpMid, \n\t\t\t\t\tcandidate: event.candidate.candidate\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.log('this is the end candidate');\n\t\t\t}\n\t\t}\n\n\t\tpc.ontrack = getRemoteStream;\n\t}else {\n\t\tconsole.log('the pc have be created!');\n\t}\n\n\treturn;\t\n}\n\n//绑定永远与 peerconnection在一起，\n//所以没必要再单独做成一个函数\nfunction bindTracks(){\n\n\tconsole.log('bind tracks into RTCPeerConnection!');\n\n\tif( pc === null && localStream === undefined) {\n\t\tconsole.error('pc is null or undefined!');\n\t\treturn;\n\t}\n\n\tif(localStream === null && localStream === undefined) {\n\t\tconsole.error('localstream is null or undefined!');\n\t\treturn;\n\t}\n\n\t//add all track into peer connection\n\tlocalStream.getTracks().forEach((track)=>{\n\t\tpc.addTrack(track, localStream);\t\n\t});\n\n}\n\nfunction call(){\n\t\n\tif(state === 'joined_conn'){\n\n\t\tvar offerOptions = {\n\t\t\tofferToRecieveAudio: 1,\n\t\t\tofferToRecieveVideo: 1\n\t\t}\n\n\t\tpc.createOffer(offerOptions)\n\t\t\t.then(getOffer)\n\t\t\t.catch(handleOfferError);\n\t}\n}\n\nfunction hangup(){\n\n\tif(!pc) {\n\t\treturn;\n\t}\n\n\tofferdesc = null;\n\t\n\tpc.close();\n\tpc = null;\n\n}\n\nfunction closeLocalMedia(){\n\n\tif(!(localStream === null || localStream === undefined)){\n\t\tlocalStream.getTracks().forEach((track)=>{\n\t\t\ttrack.stop();\n\t\t});\n\t}\n\tlocalStream = null;\n}\n\nfunction leave() {\n\n\tsocket.emit('leave', roomid); //notify server\n\n\thangup();\n\tcloseLocalMedia();\n\n\tbtnConn.disabled = false;\n\tbtnLeave.disabled = true;\n\tbandwidth.disabled = true;\n}\n\nfunction change_bw(){\n\tbandwidth.disabled = true;\n\tvar bw = bandwidth.options[bandwidth.selectedIndex].value;\n\n\tvar vsender = null;\n\tvar senders = pc.getSenders();\n\n\tsenders.forEach(sender => {\n\t\tif(sender && sender.track.kind === 'video'){\n\t\t\tvsender = sender;\n\t\t}\n\t});\n\n\tvar parameters = vsender.getParameters();\n\t\n\tif(!parameters.encodings){\n\t\tparameters.encodings=[{}];\t\n\t}\n\n\tif(bw === 'unlimited'){\n\t\tdelete parameters.encodings[0].maxBitrate;\n\t}else{\n\t\tparameters.encodings[0].maxBitrate = bw * 1000;\t\n\t}\n\n\tvsender.setParameters(parameters)\n\t\t.then(()=>{\n\t\t\tbandwidth.disabled = false;\t\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.error(err)\n\t\t});\n\n\treturn;\n}\n\n// query getStats every second\n/*\nwindow.setInterval(() => {\n  if (!pc) {\n    return;\n  }\n  const sender = pc.getSenders()[0];\n  if (!sender) {\n    return;\n  }\n  sender.getStats().then(res => {\n    res.forEach(report => {\n      let bytes;\n      let packets;\n      if (report.type === 'outbound-rtp') {\n        if (report.isRemote) {\n          return;\n        }\n        const now = report.timestamp;\n        bytes = report.bytesSent;\n        packets = report.packetsSent;\n        if (lastResult && lastResult.has(report.id)) {\n          // calculate bitrate\n          const bitrate = 8 * (bytes - lastResult.get(report.id).bytesSent) /\n            (now - lastResult.get(report.id).timestamp);\n\n          // append to chart\n          bitrateSeries.addPoint(now, bitrate);\n          bitrateGraph.setDataSeries([bitrateSeries]);\n          bitrateGraph.updateEndDate();\n\n          // calculate number of packets and append to chart\n          packetSeries.addPoint(now, packets -\n            lastResult.get(report.id).packetsSent);\n          packetGraph.setDataSeries([packetSeries]);\n          packetGraph.updateEndDate();\n        }\n      }\n    });\n    lastResult = res;\n  });\n}, 1000);\n\n*/\nbtnConn.onclick = connSignalServer\nbtnLeave.onclick = leave;\nbandwidth.onchange = change_bw;\n"},"lineCount":null}},"error":null,"hash":"e2762e10d33c04b46269f9141bfda60a","cacheData":{"env":{}}}